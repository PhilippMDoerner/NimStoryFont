(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[6817],{"./src/app/_services/formly/formly-service.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>FormlyService});var tslib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),src_app_design_organisms_formly_select_disable_formly_select_disable_field_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/design/organisms/formly-select-disable/formly-select-disable-field.component.ts"),src_utils_array__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/array.ts"),src_utils_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/string.ts");let FormlyService=class FormlyService{buildOverviewSelectConfig(config){const options$=config.required??!0?config.options$:this.addEmptyOption(config.options$,config),sortedOptions$=this.sortOptions(options$,config),validators=this.getValidators(config);return{key:config.key,type:"select",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),labelProp:config.labelProp,valueProp:config.valueProp??"pk",options:sortedOptions$,required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildDisableSelectConfig(config){const options$=config.required??!0?config.options$:this.addEmptyOption(config.options$,config),sortedOptions$=this.sortOptions(options$,config),validators=this.getValidators(config);return{key:config.key,type:"select-disable",className:config.className,wrappers:config.wrappers,hideExpression:config.hide??!1,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),labelProp:config.labelProp,valueProp:config.valueProp??"pk",options:sortedOptions$,required:config.required??!0,warningMessage:config.warningMessage,additionalProperties:{disabledExpression:config.disabledExpression,tooltipMessage:config.tooltipMessage??"",showWrapperLabel:config.showWrapperLabel??!0}},validators:{validation:validators}}}buildStaticSelectConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"select",className:config.className,wrappers:config.wrappers,hideExpression:config.hide??!1,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),options:config.options,required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildStaticStringSelectConfig(partialConfig){const options=partialConfig.options.map((str=>({label:str,value:str}))),config={...partialConfig,options};return this.buildStaticSelectConfig(config)}buildInputConfig(config){const validators=this.getValidators(config);switch(config.inputKind){case"NUMBER":validators.push("notInteger");break;case"NAME":validators.push("hasSpecialCharacters");break;case"NUMBER_FRACTION":validators.push("notNumber")}let innerInputType;switch(config.inputKind){case"NUMBER":innerInputType="number";break;case"COLOR":innerInputType="color";break;default:innerInputType="string"}return{key:config.key,type:"input",className:config.className,wrappers:config.wrappers,hideExpression:config.hide??!1,parsers:config.parsers,props:{maxLength:config.maxLength,max:config.max,minLength:config.minLength,min:config.min,label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),type:innerInputType,required:config.required??!0,disabled:!!config.disabled,placeholder:config.placeholder??void 0},validators:{validation:validators}}}buildSinglePasswordConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"input",className:config.className,fieldGroupClassName:config.fieldGroupClassName,props:{label:config.label??"Password",type:"password",required:!0,placeholder:"Your password",disabled:config.disabled},validators:{validation:validators}}}buildConfirmedPasswordConfig(config){const validators=config.validators??[];validators.push("required");return{validators:{validation:[{name:"fieldMatch",options:{errorPath:"passwordConfirm"}}]},fieldGroup:[{key:"password",type:"input",className:config.className,props:{label:config.label??"Password",type:"password",required:!0,placeholder:"Password, at least 7 characters",disabled:config.disabled},validators:{validation:validators}},{key:"passwordConfirm",type:"input",className:config.className,props:{label:config.label?"Confirm "+config.label:"Password Confirmation",type:"password",required:!0,placeholder:"Please re-enter your password",disabled:config.disabled}}]}}buildCheckboxConfig(config){return{key:config.key,type:"checkbox",className:config.className,wrappers:config.wrappers,defaultValue:config.defaultValue,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled}}}buildDatepickerConfig(config){const validators=this.getValidators(config);return validators.push("date"),{key:config.key,type:"datepicker",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildFileFieldConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"file",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{buttonType:config.fileButtonType??"SECONDARY",fileFieldKind:config.fileFieldKind??"IMAGE",label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:!!config.disabled},validators:{validation:validators}}}buildEditorConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"text-editor",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildTypeaheadConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"typeahead",className:config.className,wrappers:[...config.wrappers??[],"form-field"],props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled,placeholder:"Type to receive suggestions",additionalProperties:{getOptions:config.getOptions,optionLabelProp:config.optionLabelProp,optionValueProp:config.optionValueProp,initialOption$:config.initialOption$,formatSearchTerm:config.formatSearchTerm}},validators:{validation:validators}}}toUpdateForm(fields){return fields.filter((field=>!("file"===field.type)))}getValidators(config){const validators=config.validators??[];return config.required&&validators.push("required"),validators}addEmptyOption(list,config){return Array.isArray(list)?(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)([this.createEmptyOption(config),...list]):list.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.T)((values=>[this.createEmptyOption(config),...values])))}createEmptyOption(config){const emptyOption={};emptyOption[config.labelProp]=src_app_design_organisms_formly_select_disable_formly_select_disable_field_component__WEBPACK_IMPORTED_MODULE_0__.D.EMPTY_OPTION_LABEL;return emptyOption[config.valueProp??config.key]=src_app_design_organisms_formly_select_disable_formly_select_disable_field_component__WEBPACK_IMPORTED_MODULE_0__.D.EMPTY_OPTION_VALUE,emptyOption}sortOptions(list$,config){const{sortProp,sortDirection}=config;return sortProp?list$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.T)((list=>(0,src_utils_array__WEBPACK_IMPORTED_MODULE_4__.Z)(list,sortProp,sortDirection??"asc")))):list$}};FormlyService=(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.Injectable)({providedIn:"root"})],FormlyService)},"./src/app/_services/utils/feature.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>FeatureService});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_common_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),src_environments_environment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/environments/environment.ts");let FeatureService=class FeatureService{constructor(){this.http=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.Qq),this._features$=(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_3__.ZX)({request:()=>src_environments_environment__WEBPACK_IMPORTED_MODULE_0__.c.configUrl,loader:({request})=>this.http.get(request)}),this.features$=this._features$.asReadonly()}};FeatureService=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"})],FeatureService)},"./src/app/design/organisms/page-container/page-container.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>PageContainerComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var page_container_componentngResource=__webpack_require__("./src/app/design/organisms/page-container/page-container.component.scss?ngResource"),page_container_componentngResource_default=__webpack_require__.n(page_container_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),animations=__webpack_require__("./node_modules/@angular/animations/fesm2022/animations.mjs");const fadeIn=(0,animations.hZ)("fadeIn",[(0,animations.kY)(":enter",[(0,animations.iF)({opacity:0}),(0,animations.i0)("250ms ease-in",(0,animations.iF)({opacity:1}))]),(0,animations.kY)(":leave",[(0,animations.iF)({opacity:1}),(0,animations.i0)("250ms ease-out",(0,animations.iF)({opacity:0}))])]);(0,animations.hZ)("fadeOut",[(0,animations.kY)(":leave",[(0,animations.iF)({opacity:1}),(0,animations.i0)("250ms ease-out",(0,animations.iF)({opacity:0}))])]);let PageContainerComponent=class PageContainerComponent{};PageContainerComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-page-container",template:'<div class="page" [@fadeIn]>\n  <div class="page__foreground">\n    <ng-content></ng-content>\n  </div>\n</div>\n',imports:[],animations:[fadeIn],styles:[page_container_componentngResource_default()]})],PageContainerComponent)},"./src/utils/array.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>sortByProp});const sortByProp=(list,prop,sortDirection="asc")=>{const newList=[...list];return newList.sort(((a,b)=>{const sortValue=a[prop]>b[prop]?1:-1;return"desc"===sortDirection?-1*sortValue:sortValue})),newList}},"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{XI:()=>action});var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/internal/preview-api"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("storybook/internal/preview-errors"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),__defProp=Object.defineProperty,ADDON_ID="storybook/actions",EVENT_ID=`${ADDON_ID}/action-event`,config={depth:10,clearOnStoryChange:!0,limit:50},findProto=(obj,callback)=>{let proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},serializeArg=a=>{if("object"==typeof(e=a)&&e&&findProto(e,(proto=>/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)))&&"function"==typeof e.persist){let e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();let viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=viewDescriptor?.value;return"object"==typeof view&&"Window"===view?.constructor.name&&Object.defineProperty(e,"view",{...viewDescriptor,value:Object.create(view.constructor.prototype)}),e}var e;return a},generateId=()=>"object"==typeof crypto&&"function"==typeof crypto.getRandomValues?(0,v4.A)():Date.now().toString(36)+Math.random().toString(36).substring(2);function action(name,options={}){let actionOptions={...config,...options},handler=function(...args){if(options.implicit){let storyRenderer=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find((render=>"playing"===render.phase||"rendering"===render.phase));if(storyRenderer){let deprecated=!globalThis?.FEATURES?.disallowImplicitActionsInRenderV8,error=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:storyRenderer.phase,name,deprecated});if(!deprecated)throw error;console.warn(error)}}let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),id=generateId(),serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id,count:0,data:{name,args:normalizedArgs},options:{...actionOptions,maxDepth:5+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1}};channel.emit(EVENT_ID,actionDisplayToEmit)};return handler.isAction=!0,handler.implicit=options.implicit,handler}var preview_exports={};((target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})})(preview_exports,{argsEnhancers:()=>argsEnhancers,loaders:()=>loaders});var isInInitialArgs=(name,initialArgs)=>typeof initialArgs[name]>"u"&&!(name in initialArgs),argsEnhancers=[context=>{let{initialArgs,argTypes,parameters:{actions:actions2}}=context;return actions2?.disable||!argTypes?{}:Object.entries(argTypes).filter((([name,argType])=>!!argType.action)).reduce(((acc,[name,argType])=>(isInInitialArgs(name,initialArgs)&&(acc[name]=action("string"==typeof argType.action?argType.action:name)),acc)),{})},context=>{let{initialArgs,argTypes,id,parameters:{actions:actions2}}=context;if(!actions2||actions2.disable||!actions2.argTypesRegex||!argTypes)return{};let argTypesRegex=new RegExp(actions2.argTypesRegex);return Object.entries(argTypes).filter((([name])=>!!argTypesRegex.test(name))).reduce(((acc,[name,argType])=>(isInInitialArgs(name,initialArgs)&&(acc[name]=action(name,{implicit:!0,id})),acc)),{})}],subscribed=!1,loaders=[context=>{let{parameters:{actions:actions2}}=context;if(!actions2?.disable&&!subscribed&&"__STORYBOOK_TEST_ON_MOCK_CALL__"in external_STORYBOOK_MODULE_GLOBAL_.global&&"function"==typeof external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_TEST_ON_MOCK_CALL__){(0,external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_TEST_ON_MOCK_CALL__)(((mock,args)=>{let name=mock.getMockName();"spy"!==name&&(!/^next\/.*::/.test(name)||["next/router::useRouter()","next/navigation::useRouter()","next/navigation::redirect","next/cache::","next/headers::cookies().set","next/headers::cookies().delete","next/headers::headers().set","next/headers::headers().delete"].some((prefix=>name.startsWith(prefix))))&&action(name)(args)})),subscribed=!0}}]},"./src/app/design/templates/login/login.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>login_stories});var animations=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),testing=__webpack_require__("./node_modules/@angular/router/fesm2022/testing.mjs"),dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),angular_dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),formly_constants=__webpack_require__("./src/app/_modules/formly_constants.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var login_componentngResource=__webpack_require__("./src/app/design/templates/login/login.component.scss?ngResource"),login_componentngResource_default=__webpack_require__.n(login_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),ngx_formly_core=__webpack_require__("./node_modules/@ngx-formly/core/fesm2020/ngx-formly-core.mjs"),formly_service_service=__webpack_require__("./src/app/_services/formly/formly-service.service.ts"),page_container_component=__webpack_require__("./src/app/design/organisms/page-container/page-container.component.ts"),router=__webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs"),ngx_formly_bootstrap=__webpack_require__("./node_modules/@ngx-formly/bootstrap/fesm2020/ngx-formly-bootstrap.mjs"),routing_service=__webpack_require__("./src/app/_services/routing.service.ts"),feature_service=__webpack_require__("./src/app/_services/utils/feature.service.ts"),fesm2022_animations=__webpack_require__("./node_modules/@angular/animations/fesm2022/animations.mjs");const backInUp=(0,fesm2022_animations.hZ)("backInUp",[(0,fesm2022_animations.kY)(":enter",[(0,fesm2022_animations.iF)({transform:"translateY(800px) scale(0.7)",opacity:.7}),(0,fesm2022_animations.i0)("800ms ease-out",(0,fesm2022_animations.i7)([(0,fesm2022_animations.iF)({offset:.8,transform:"translateY(0px) scale(0.7)",opacity:.7}),(0,fesm2022_animations.iF)({offset:1,transform:"scale(1)",opacity:1})]))]),(0,fesm2022_animations.kY)(":leave",[(0,fesm2022_animations.iF)({transform:"scale(1)",opacity:1}),(0,fesm2022_animations.i0)("800ms ease-in",(0,fesm2022_animations.i7)([(0,fesm2022_animations.iF)({offset:.2,transform:"translateY(0px) scale(0.7)",opacity:.7}),(0,fesm2022_animations.iF)({offset:1,transform:"translateY(-800px) scale(0.7)",opacity:.7})]))])]),flipAnimation=[(0,fesm2022_animations.iF)({"webkit-transform":"perspective(400px) rotate3d(0, 1, 0, 90deg)",transform:"perspective(400px) rotate3d(0, 1, 0, 90deg)","webkit-animation-timing-function":"ease-in","animation-timing-function":"ease-in"}),(0,fesm2022_animations.i0)("400ms",(0,fesm2022_animations.i7)([(0,fesm2022_animations.iF)({"webkit-transform":"perspective(400px) rotate3d(0, 1, 0, -20deg)",transform:"perspective(400px) rotate3d(0, 1, 0, -20deg)","webkit-animation-timing-function":"ease-in","animation-timing-function":"ease-in",offset:.4}),(0,fesm2022_animations.iF)({"webkit-transform":"perspective(400px) rotate3d(0, 1, 0, 10deg)",transform:"perspective(400px) rotate3d(0, 1, 0, 10deg)",offset:.6}),(0,fesm2022_animations.iF)({"webkit-transform":"perspective(400px) rotate3d(0, 1, 0, -5deg)",transform:"perspective(400px) rotate3d(0, 1, 0, -5deg)",offset:.8}),(0,fesm2022_animations.iF)({"webkit-transform":"perspective(400px)",transform:"perspective(400px)",offset:1})]))],flipInY=(0,fesm2022_animations.hZ)("flipInY",[(0,fesm2022_animations.kY)("sideA => sideB",flipAnimation),(0,fesm2022_animations.kY)("sideB => sideA",flipAnimation)]);var button_link_component=__webpack_require__("./src/app/design/atoms/button-link/button-link.component.ts"),button_component=__webpack_require__("./src/app/design/atoms/button/button.component.ts");let LoginComponent=class LoginComponent{constructor(formlyService){this.formlyService=formlyService,this.loginState=(0,core.input)(),this.resetErrorMessage=(0,core.input)(),this.login=(0,core.output)(),this.resetPassword=(0,core.output)(),this.registrationUrl=(0,core.inject)(routing_service.O).getRoutePath("registration"),this.feature$=(0,core.inject)(feature_service.w).features$,this.canRegisterPublicly=(0,core.computed)((()=>!this.feature$.isLoading()&&this.feature$.value()?.enableRegistration)),this.loginMessages={"token-expired":"Your Session expired, please log in again","token-null":"You do not have a valid token, please log in","invalid-login":"No active account found with the given credentials","logged-out":"Log out successful. Log in again?","no-token":"You are not logged in. Please enter your credentials"},this.model={},this.form=new fesm2022_forms.gE({}),this.fields=[this.formlyService.buildInputConfig({key:"username",placeholder:"Username",inputKind:"STRING"}),this.formlyService.buildSinglePasswordConfig({key:"password",className:"mb-0",fieldGroupClassName:"mb-0"})],this.recoveryModel={},this.recoveryForm=new fesm2022_forms.gE({}),this.recoveryFields=[this.formlyService.buildInputConfig({key:"username",placeholder:"Username",inputKind:"STRING"})],this.state=(0,core.signal)("LOGIN"),this.isWaitingForPasswordReset=!1}setState(newState){this.state.set(newState),this.recoveryModel={},this.model={}}onLogin(){this.login.emit(this.model)}onPasswordReset(){this.setState("LOGIN");const username=this.recoveryForm.value.username;username&&this.resetPassword.emit(username)}static{this.ctorParameters=()=>[{type:formly_service_service.$}]}static{this.propDecorators={loginState:[{type:core.Input,args:[{isSignal:!0,alias:"loginState",required:!1,transform:void 0}]}],resetErrorMessage:[{type:core.Input,args:[{isSignal:!0,alias:"resetErrorMessage",required:!1,transform:void 0}]}],login:[{type:core.Output,args:["login"]}],resetPassword:[{type:core.Output,args:["resetPassword"]}]}}};LoginComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-login",template:'<div\n  class="login"\n  [@backInUp]\n  [@flipInY]="state() === \'LOGIN\' ? \'sideA\' : \'sideB\'"\n>\n  <app-page-container>\n    @if (state() === "LOGIN") {\n      <h1>Sign In</h1>\n      @let loginStateVal = loginState();\n      @if (loginStateVal) {\n        <div class="login__subtitle-warning">\n          {{ loginMessages[loginStateVal] }}\n        </div>\n      }\n      <form class="login__form" (submit)="onLogin()">\n        <formly-form\n          [model]="model"\n          [fields]="fields"\n          [form]="form"\n        ></formly-form>\n        <button\n          btn\n          class="login__reset-link"\n          [kind]="\'NONE\'"\n          [size]="\'SMALL\'"\n          [text]="\'Forgot your password?\'"\n          (click)="setState(\'PASSWORD_RESET\')"\n        ></button>\n        @if (canRegisterPublicly()) {\n          <a\n            btn\n            class="login__reset-link"\n            [kind]="\'NONE\'"\n            [size]="\'SMALL\'"\n            [text]="\'Sign up\'"\n            [routerLink]="registrationUrl"\n          ></a>\n        }\n        <button\n          btn\n          class="login__button"\n          [kind]="\'PRIMARY\'"\n          [text]="\'Login\'"\n          [type]="\'submit\'"\n        ></button>\n      </form>\n    } @else {\n      <h1>Password Reset</h1>\n      <p>\n        Forgot your account\'s password? Enter your account name and we\'ll send\n        you a randomized new password to your email address.\n      </p>\n      <div class="login__subtitle-warning">\n        {{ resetErrorMessage() }}\n      </div>\n      <form class="login__form" (submit)="onPasswordReset()">\n        <formly-form\n          [model]="recoveryModel"\n          [fields]="recoveryFields"\n          [form]="recoveryForm"\n        ></formly-form>\n        <div class="login__button">\n          <button\n            btn\n            class="login__button-left"\n            [kind]="\'DARK\'"\n            [text]="\'Cancel\'"\n            (clicked)="setState(\'LOGIN\')"\n          ></button>\n          <button\n            btn\n            [kind]="\'PRIMARY\'"\n            [text]="\'Reset Password\'"\n            [type]="\'submit\'"\n            [disabled]="isWaitingForPasswordReset"\n          ></button>\n        </div>\n      </form>\n    }\n  </app-page-container>\n</div>\n',imports:[page_container_component.i,fesm2022_forms.YN,ngx_formly_core.qy,ngx_formly_bootstrap.u,button_component.Q,button_link_component.W,router.Wk],animations:[backInUp,flipInY],changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[login_componentngResource_default()]})],LoginComponent);const login_stories={title:"DesignSystem/Templates/LoginComponent",component:LoginComponent,decorators:[(0,angular_dist.moduleMetadata)({imports:[testing.c,formly_constants.d_,animations.BrowserAnimationsModule],declarations:[]})],args:{extraMessage:"Extra message of some sort",resetErrorMessage:"Message for error during reset"}},Default=(args=>({props:{...args,login:(0,dist.XI)("login"),resetPassword:(0,dist.XI)("resetPassword")}})).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => ({\n  props: {\n    ...args,\n    login: action('login'),\n    resetPassword: action('resetPassword')\n  }\n})",...Default.parameters?.docs?.source}}}},"./src/app/design/organisms/page-container/page-container.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".page {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n}\n.page__background {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: -2;\n  width: 100%;\n  height: 100mvh;\n}\n.page__foreground {\n  max-width: 60rem;\n  width: 100%;\n  background-color: var(--wiki-bg-transparent);\n  padding: var(--spacer-3) var(--spacer-3) var(--spacer-5) var(--spacer-3);\n  margin-bottom: var(--spacer-4);\n  color: white;\n}\n@media (min-width: 768px) {\n  .page__foreground {\n    border-radius: var(--bs-border-radius);\n  }\n}\n@media (min-width: 992px) {\n  .page__foreground {\n    padding: var(--spacer-4);\n  }\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/templates/login/login.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  width: 100%;\n  max-width: 30rem;\n}\n\n.login {\n  --animate-duration: 1000ms;\n}\n.login__subtitle-warning {\n  margin-bottom: var(--spacer-3);\n  color: var(--bs-warning);\n}\n.login__form {\n  display: flex;\n  flex-direction: column;\n}\n.login__button {\n  margin-top: var(--spacer-4);\n}\n.login__button-left {\n  margin-right: var(--spacer-2);\n}\n.login__reset-link {\n  cursor: pointer;\n  width: fit-content;\n  border-radius: var(--bs-border-radius);\n  text-decoration: none;\n  min-height: unset;\n  margin-top: var(--spacer-2);\n  margin-bottom: var(--spacer-2);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);