"use strict";(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[1022],{"./node_modules/@tinymce/tinymce-angular/fesm2020/tinymce-tinymce-angular.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sv:()=>EditorModule,xn:()=>EditorComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/defer.js"),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mapTo.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js");function EditorComponent_ng_template_0_Template(rf,ctx){}const getTinymce=()=>{const w="undefined"!=typeof window?window:void 0;return w&&w.tinymce?w.tinymce:null};class Events{constructor(){this.onBeforePaste=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onBlur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onClick=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onContextMenu=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onCopy=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onCut=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onDblclick=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onDrag=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onDragDrop=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onDragEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onDragGesture=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onDragOver=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onDrop=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onFocus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onFocusIn=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onFocusOut=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onKeyDown=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onKeyPress=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onKeyUp=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onMouseDown=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onMouseEnter=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onMouseLeave=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onMouseMove=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onMouseOut=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onMouseOver=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onMouseUp=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onPaste=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onSelectionChange=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onActivate=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onAddUndo=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onBeforeAddUndo=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onBeforeExecCommand=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onBeforeGetContent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onBeforeRenderUI=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onBeforeSetContent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onChange=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onClearUndos=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onDeactivate=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onDirty=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onExecCommand=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onGetContent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onHide=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onInit=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onInitNgModel=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onLoadContent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onNodeChange=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onPostProcess=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onPostRender=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onPreInit=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onPreProcess=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onProgressState=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onRedo=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onRemove=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onReset=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onResizeEditor=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onSaveContent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onSetAttrib=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onObjectResizeStart=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onObjectResized=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onObjectSelected=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onSetContent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onShow=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onSubmit=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onUndo=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onVisualAid=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}}Events.ɵfac=function Events_Factory(__ngFactoryType__){return new(__ngFactoryType__||Events)},Events.ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({type:Events,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"},standalone:!1}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Events,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive}],null,{onBeforePaste:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onBlur:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onClick:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onContextMenu:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onCopy:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onCut:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onDblclick:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onDrag:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onDragDrop:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onDragEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onDragGesture:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onDragOver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onDrop:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onFocus:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onFocusIn:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onFocusOut:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onKeyDown:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onKeyPress:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onKeyUp:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onMouseDown:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onMouseEnter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onMouseLeave:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onMouseMove:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onMouseOut:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onMouseOver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onMouseUp:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onPaste:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onSelectionChange:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onActivate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onAddUndo:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onBeforeAddUndo:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onBeforeExecCommand:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onBeforeGetContent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onBeforeRenderUI:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onBeforeSetContent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onChange:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onClearUndos:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onDeactivate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onDirty:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onExecCommand:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onGetContent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onHide:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onInit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onInitNgModel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onLoadContent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onNodeChange:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onPostProcess:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onPostRender:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onPreInit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onPreProcess:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onProgressState:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onRedo:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onRemove:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onReset:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onResizeEditor:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onSaveContent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onSetAttrib:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onObjectResizeStart:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onObjectResized:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onObjectSelected:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onSetContent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onShow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onSubmit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onUndo:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onVisualAid:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]});const validEvents=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],listenTinyMCEEvent=(editor,eventName,destroy$)=>(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.R)(editor,eventName).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Q)(destroy$)),getValidEvents=ctx=>{const ignoredEvents=parseStringProperty(ctx.ignoreEvents,[]);return parseStringProperty(ctx.allowedEvents,validEvents).filter((event=>validEvents.includes(event)&&!ignoredEvents.includes(event)))},parseStringProperty=(property,defaultValue)=>"string"==typeof property?property.split(",").map((value=>value.trim())):Array.isArray(property)?property:defaultValue;let unique=0;const isTextarea=element=>void 0!==element&&"textarea"===element.tagName.toLowerCase(),normalizePluginArray=plugins=>void 0===plugins||""===plugins?[]:Array.isArray(plugins)?plugins:plugins.split(" "),noop=()=>{},isNullOrUndefined=value=>null==value,ScriptLoader=(()=>{let state={script$:null};return{load:(doc,url)=>state.script$||(state.script$=(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.v)((()=>{const scriptTag=doc.createElement("script");return scriptTag.referrerPolicy="origin",scriptTag.type="application/javascript",scriptTag.src=url,doc.head.appendChild(scriptTag),(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.R)(scriptTag,"load").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.u)(void 0))})).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.t)({bufferSize:1,refCount:!0}))),reinitialize:()=>{state={script$:null}}}})(),TINYMCE_SCRIPT_SRC=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("TINYMCE_SCRIPT_SRC"),EDITOR_COMPONENT_VALUE_ACCESSOR={provide:_angular_forms__WEBPACK_IMPORTED_MODULE_7__.kq,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((()=>EditorComponent)),multi:!0};class EditorComponent extends Events{constructor(elementRef,ngZone,platformId,tinymceScriptSrc){super(),this.platformId=platformId,this.tinymceScriptSrc=tinymceScriptSrc,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=noop,this.destroy$=new rxjs__WEBPACK_IMPORTED_MODULE_8__.B,this.initialise=()=>{const finalInit={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:(initPlugins=this.init&&this.init.plugins,inputPlugins=this.plugins,normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:editor=>{this._editor=editor,listenTinyMCEEvent(editor,"init",this.destroy$).subscribe((()=>{this.initEditor(editor)})),((ctx,editor,destroy$)=>{getValidEvents(ctx).forEach((eventName=>{const eventEmitter=ctx[eventName];listenTinyMCEEvent(editor,eventName.substring(2),destroy$).subscribe((event=>{eventEmitter.observers.length>0&&ctx.ngZone.run((()=>eventEmitter.emit({event,editor})))}))}))})(this,editor,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(editor)}};var initPlugins,inputPlugins;isTextarea(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular((()=>{getTinymce().init(finalInit)}))},this._elementRef=elementRef,this.ngZone=ngZone}set disabled(val){this._disabled=val,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(val?"readonly":"design"):this._editor.setMode(val?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(value){this._editor&&this._editor.initialized?this._editor.setContent(isNullOrUndefined(value)?"":value):this.initialValue=null===value?void 0:value}registerOnChange(fn){this.onChangeCallback=fn}registerOnTouched(fn){this.onTouchedCallback=fn}setDisabledState(isDisabled){this.disabled=isDisabled}ngAfterViewInit(){(0,_angular_common__WEBPACK_IMPORTED_MODULE_9__.isPlatformBrowser)(this.platformId)&&(this.id=this.id||(prefix=>{const time=(new Date).getTime(),random=Math.floor(1e9*Math.random());return unique++,prefix+"_"+random+unique+String(time)})("tiny-angular"),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==getTinymce()?this.initialise():this._element&&this._element.ownerDocument&&ScriptLoader.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Q)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==getTinymce()&&getTinymce().remove(this._editor)}createElement(){const tagName="string"==typeof this.tagName?this.tagName:"div";this._element=document.createElement(this.inline?tagName:"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,isTextarea(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return isNullOrUndefined(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(editor){listenTinyMCEEvent(editor,"blur",this.destroy$).subscribe((()=>{this.ngZone.run((()=>this.onTouchedCallback()))})),listenTinyMCEEvent(editor,this.modelEvents,this.destroy$).subscribe((()=>{this.ngZone.run((()=>this.emitOnChange(editor)))})),"string"==typeof this.initialValue&&this.ngZone.run((()=>{editor.setContent(this.initialValue),editor.getContent()!==this.initialValue&&this.emitOnChange(editor),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(editor)}))}emitOnChange(editor){this.onChangeCallback&&this.onChangeCallback(editor.getContent({format:this.outputFormat}))}}EditorComponent.ɵfac=function EditorComponent_Factory(__ngFactoryType__){return new(__ngFactoryType__||EditorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](TINYMCE_SCRIPT_SRC,8))},EditorComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({type:EditorComponent,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([EDITOR_COMPONENT_VALUE_ACCESSOR]),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]],decls:1,vars:0,template:function EditorComponent_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0,EditorComponent_ng_template_0_Template,0,0,"ng-template")},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule,_angular_forms__WEBPACK_IMPORTED_MODULE_7__.YN],styles:["[_nghost-%COMP%]{display:block}"]}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EditorComponent,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,args:[{selector:"editor",template:"<ng-template></ng-template>",providers:[EDITOR_COMPONENT_VALUE_ACCESSOR],standalone:!0,imports:[_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule,_angular_forms__WEBPACK_IMPORTED_MODULE_7__.YN],styles:[":host{display:block}\n"]}]}],(function(){return[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone},{type:Object,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[TINYMCE_SCRIPT_SRC]}]}]}),{cloudChannel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],apiKey:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],init:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],id:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],initialValue:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],outputFormat:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],inline:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],tagName:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],plugins:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],toolbar:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],modelEvents:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],allowedEvents:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],ignoreEvents:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],disabled:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]});class EditorModule{}EditorModule.ɵfac=function EditorModule_Factory(__ngFactoryType__){return new(__ngFactoryType__||EditorModule)},EditorModule.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({type:EditorModule,imports:[EditorComponent],exports:[EditorComponent]}),EditorModule.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({imports:[EditorComponent]}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EditorModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,args:[{imports:[EditorComponent],exports:[EditorComponent]}]}],null,null)},"./node_modules/rxjs/dist/esm5/internal/operators/share.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>share});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_Subject__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),_Subscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscriber.js"),_util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js");function share(options){void 0===options&&(options={});var _a=options.connector,connector=void 0===_a?function(){return new _Subject__WEBPACK_IMPORTED_MODULE_0__.B}:_a,_b=options.resetOnError,resetOnError=void 0===_b||_b,_c=options.resetOnComplete,resetOnComplete=void 0===_c||_c,_d=options.resetOnRefCountZero,resetOnRefCountZero=void 0===_d||_d;return function(wrapperSource){var connection,resetConnection,subject,refCount=0,hasCompleted=!1,hasErrored=!1,cancelReset=function(){null==resetConnection||resetConnection.unsubscribe(),resetConnection=void 0},reset=function(){cancelReset(),connection=subject=void 0,hasCompleted=hasErrored=!1},resetAndUnsubscribe=function(){var conn=connection;reset(),null==conn||conn.unsubscribe()};return(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)((function(source,subscriber){refCount++,hasErrored||hasCompleted||cancelReset();var dest=subject=null!=subject?subject:connector();subscriber.add((function(){0!==--refCount||hasErrored||hasCompleted||(resetConnection=handleReset(resetAndUnsubscribe,resetOnRefCountZero))})),dest.subscribe(subscriber),!connection&&refCount>0&&(connection=new _Subscriber__WEBPACK_IMPORTED_MODULE_2__.Ms({next:function(value){return dest.next(value)},error:function(err){hasErrored=!0,cancelReset(),resetConnection=handleReset(reset,resetOnError,err),dest.error(err)},complete:function(){hasCompleted=!0,cancelReset(),resetConnection=handleReset(reset,resetOnComplete),dest.complete()}}),(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_3__.Tg)(source).subscribe(connection))}))(wrapperSource)}}function handleReset(reset,on){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];if(!0!==on){if(!1!==on){var onSubscriber=new _Subscriber__WEBPACK_IMPORTED_MODULE_2__.Ms({next:function(){onSubscriber.unsubscribe(),reset()}});return(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_3__.Tg)(on.apply(void 0,(0,tslib__WEBPACK_IMPORTED_MODULE_4__.fX)([],(0,tslib__WEBPACK_IMPORTED_MODULE_4__.zs)(args)))).subscribe(onSubscriber)}}else reset()}},"./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>shareReplay});var _ReplaySubject__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js"),_share__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/share.js");function shareReplay(configOrBufferSize,windowTime,scheduler){var _a,_b,_c,bufferSize,refCount=!1;return configOrBufferSize&&"object"==typeof configOrBufferSize?(_a=configOrBufferSize.bufferSize,bufferSize=void 0===_a?1/0:_a,_b=configOrBufferSize.windowTime,windowTime=void 0===_b?1/0:_b,refCount=void 0!==(_c=configOrBufferSize.refCount)&&_c,scheduler=configOrBufferSize.scheduler):bufferSize=null!=configOrBufferSize?configOrBufferSize:1/0,(0,_share__WEBPACK_IMPORTED_MODULE_0__.u)({connector:function(){return new _ReplaySubject__WEBPACK_IMPORTED_MODULE_1__.m(bufferSize,windowTime,scheduler)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:refCount})}}}]);