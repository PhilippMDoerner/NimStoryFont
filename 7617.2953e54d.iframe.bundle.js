(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[7617],{"./src/app/design/molecules/context-menu/context-menu.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>ContextMenuComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var context_menu_componentngResource=__webpack_require__("./src/app/design/molecules/context-menu/context-menu.component.scss?ngResource"),context_menu_componentngResource_default=__webpack_require__.n(context_menu_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),router=__webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs"),ng_bootstrap=__webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/fesm2022/ng-bootstrap.mjs"),hotkey_directive=__webpack_require__("./src/app/_directives/hotkey.directive.ts"),button_component=__webpack_require__("./src/app/design/atoms/button/button.component.ts"),icon_component=__webpack_require__("./src/app/design/atoms/icon/icon.component.ts"),DOM=__webpack_require__("./src/utils/DOM.ts");let ContextMenuComponent=class ContextMenuComponent{constructor(){this.menuItems=core.input.required(),this.menuButtonKind=core.input.required(),this.menuButtonText=(0,core.input)(),this.menuButtonIcon=(0,core.input)(),this.menuButtonSize=(0,core.input)("MEDIUM"),this.menuButtonHotkey=(0,core.input)(),this.menuButtonAriaLabel=(0,core.input)(),this.placement=(0,core.input)(["bottom-start","bottom-end","top-start","top-end"]),this.actionTriggered=(0,core.output)(),this.trigger=core.viewChild.required("triggerElement",{read:core.ElementRef}),this.isOpen=(0,core.signal)(!1),this.id=(0,DOM.n)(),this.menuId=`menu-${this.id}`,this.triggerId=`trigger-${this.id}`}openAndScrollToMenu(){const element=this.trigger().nativeElement;element.click(),this.isOpen()&&(element.scrollIntoView({behavior:"smooth",block:"start"}),element.focus())}static{this.propDecorators={menuItems:[{type:core.Input,args:[{isSignal:!0,alias:"menuItems",required:!0,transform:void 0}]}],menuButtonKind:[{type:core.Input,args:[{isSignal:!0,alias:"menuButtonKind",required:!0,transform:void 0}]}],menuButtonText:[{type:core.Input,args:[{isSignal:!0,alias:"menuButtonText",required:!1,transform:void 0}]}],menuButtonIcon:[{type:core.Input,args:[{isSignal:!0,alias:"menuButtonIcon",required:!1,transform:void 0}]}],menuButtonSize:[{type:core.Input,args:[{isSignal:!0,alias:"menuButtonSize",required:!1,transform:void 0}]}],menuButtonHotkey:[{type:core.Input,args:[{isSignal:!0,alias:"menuButtonHotkey",required:!1,transform:void 0}]}],menuButtonAriaLabel:[{type:core.Input,args:[{isSignal:!0,alias:"menuButtonAriaLabel",required:!1,transform:void 0}]}],placement:[{type:core.Input,args:[{isSignal:!0,alias:"placement",required:!1,transform:void 0}]}],actionTriggered:[{type:core.Output,args:["actionTriggered"]}],trigger:[{type:core.ViewChild,args:["triggerElement",{read:core.ElementRef,isSignal:!0}]}]}}};ContextMenuComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-context-menu",imports:[button_component.Q,router.Wk,hotkey_directive.G,ng_bootstrap.zH,icon_component.R],template:'<div ngbDropdown [placement]="placement()" (openChange)="isOpen.set($event)">\n  <button\n    btn\n    ngbDropdownToggle\n    #triggerElement\n    [id]="triggerId"\n    class="dropdown-toggle"\n    [kind]="menuButtonKind()"\n    [text]="menuButtonText()"\n    [icon]="menuButtonIcon()"\n    [size]="menuButtonSize()"\n    [hotkey]="menuButtonHotkey()"\n    aria-haspopup="menu"\n    [attr.aria-controls]="menuId"\n    [attr.aria-label]="menuButtonAriaLabel()"\n    (hotkeyPressed)="openAndScrollToMenu()"\n  ></button>\n  <ul\n    ngbDropdownMenu\n    class="dropdown-menu dropdown-menu-end p-0"\n    role="menu"\n    [id]="menuId"\n    [attr.aria-labelledby]="triggerId"\n  >\n    @for (item of menuItems(); track item) {\n      @switch (item.kind) {\n        @case ("HEADER") {\n          <div ngbDropdownItem [class]="\'dropdown-header \' + item.headerKind">\n            {{ item.label }}\n          </div>\n        }\n        @case ("SEPARATOR") {\n          <hr ngbDropdownItem class="dropdown-divider" />\n        }\n        @case ("LINK") {\n          <a\n            #menuItem\n            ngbDropdownItem\n            [id]="id + \'-\' + $index"\n            class="dropdown-item"\n            role="menuitem"\n            [class.active]="item.active"\n            [class.disabled]="item.disabled"\n            [routerLink]="item.url"\n            [hotkey]="item.hotkey"\n            (hotkeyPressed)="menuItem.click()"\n          >\n            @if (item.icon) {\n              <app-icon class="me-3" [icon]="item.icon"></app-icon>\n            }\n            {{ item.label }}\n          </a>\n        }\n        @case ("BUTTON") {\n          <button\n            [id]="id + \'-\' + $index"\n            class="dropdown-item"\n            [class.active]="item.active"\n            [class.disabled]="item.disabled"\n            [hotkey]="item.hotkey"\n            role="menuitem"\n            ngbDropdownItem\n            (click)="actionTriggered.emit(item.actionName)"\n            (hotkeyPressed)="actionTriggered.emit(item.actionName)"\n          >\n            @if (item.icon) {\n              <app-icon class="me-3" [icon]="item.icon"></app-icon>\n            }\n            {{ item.label }}\n          </button>\n        }\n      }\n    }\n  </ul>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,hostDirectives:[{directive:ng_bootstrap.tg,inputs:["placement"]}],styles:[context_menu_componentngResource_default()]})],ContextMenuComponent)},"./src/app/design/organisms/quest-table/quest-table.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>QuestTableComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var quest_table_componentngResource=__webpack_require__("./src/app/design/organisms/quest-table/quest-table.component.scss?ngResource"),quest_table_componentngResource_default=__webpack_require__.n(quest_table_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),router=__webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs"),icon_component=__webpack_require__("./src/app/design/atoms/icon/icon.component.ts"),context_menu_component=__webpack_require__("./src/app/design/molecules/context-menu/context-menu.component.ts");const DISPLAY_STATES=["Default","All","Completed","Failed","On hold","In progress"];let QuestTableComponent=class QuestTableComponent{constructor(){this.questTaker=core.input.required(),this.quests=core.input.required(),this.menuItems=(0,core.computed)((()=>DISPLAY_STATES.map((state=>({kind:"BUTTON",actionName:state,label:state,icon:this.STATE_ICON_MAPPING[state],active:state===this.state()}))))),this.state=(0,core.signal)("Default"),this.displayQuests=(0,core.computed)((()=>this.quests().filter((quest=>this.shouldDisplayQuest(quest,this.state()))))),this.STATE_ICON_MAPPING={Completed:"square-check","On hold":"hourglass-half",Failed:"times","In progress":"spinner"},this.STATE_TABLE_TYPE_MAPPING={Completed:"success","On hold":"warning",Failed:"danger","In progress":""}}updateDisplayState(filterStateStr){const filterState=filterStateStr;this.state.set(filterState)}shouldDisplayQuest(quest,displayState){if("all"===displayState.toLowerCase())return!0;if(displayState.toLowerCase()===quest.status?.toLowerCase())return!0;const isDefaultState="Default"===displayState,isMatchingDefault=["in progress","on hold"].includes(quest.status?.toLowerCase());return isDefaultState&&isMatchingDefault}static{this.propDecorators={questTaker:[{type:core.Input,args:[{isSignal:!0,alias:"questTaker",required:!0,transform:void 0}]}],quests:[{type:core.Input,args:[{isSignal:!0,alias:"quests",required:!0,transform:void 0}]}]}}};QuestTableComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-quest-table",template:'<div class="container">\n  <div class="row heading">\n    \x3c!-- Outer Table Heading --\x3e\n    <h2 aria class="fs-4 col-sm-9 fw-bold heading__text">\n      {{ questTaker() }}\'s Quests\n    </h2>\n\n    \x3c!-- Filterselect --\x3e\n    <app-context-menu\n      class="col-sm-3 d-flex align-items-center justify-content-end p-0"\n      [menuItems]="menuItems()"\n      [menuButtonText]="state()"\n      [menuButtonKind]="\'DARK\'"\n      [menuButtonIcon]="\'filter\'"\n      [menuButtonAriaLabel]="\n        \'Filter quests of \' + questTaker() + \' by QuestState\'\n      "\n      (actionTriggered)="updateDisplayState($event)"\n    />\n    \x3c!-- <label class="col-sm-3 d-flex align-items-center justify-content-end">\n      <select\n        class="heading__select flex-1"\n        [attr.aria-label]="\n          \'Filter quests of \' + questTaker() + \' by QuestState\'\n        "\n        (change)="updateDisplayState($event)"\n      >\n        @for (state of DISPLAY_STATES; track state) {\n          <option [value]="state">\n            {{ state }}\n          </option>\n        }\n      </select>\n    </label> --\x3e\n  </div>\n\n  <div class="row">\n    <table\n      class="table table-dark table-striped"\n      style="\n        --bs-table-bg: var(--table-bg);\n        --bs-table-striped-bg: var(--table-striped-bg);\n      "\n    >\n      \x3c!-- Inner Table Heading --\x3e\n      <thead>\n        <tr>\n          <th class="table__element" scope="col">Name</th>\n          <th class="table__element table__element--desktop-only" scope="col">\n            Description\n          </th>\n          <th class="table__element" scope="col">Status</th>\n        </tr>\n      </thead>\n\n      \x3c!-- Table Body --\x3e\n      <tbody [id]="questTaker + \'-quests\'">\n        @for (quest of displayQuests(); track $index) {\n          <tr>\n            \x3c!-- Quest Name Column --\x3e\n            <td class="table__element">\n              <a [routerLink]="quest.getAbsoluteRouterUrl()">\n                <strong>{{ quest.name }}</strong>\n              </a>\n            </td>\n\n            \x3c!-- Quest Abstract --\x3e\n            <td class="table__element table__element--desktop-only">\n              {{ quest.abstract }}\n            </td>\n\n            \x3c!-- Quest Status --\x3e\n            @if (quest.status) {\n              <td\n                class="table__element--status table-{{\n                  STATE_TABLE_TYPE_MAPPING[quest.status]\n                }}"\n              >\n                <app-icon [icon]="STATE_ICON_MAPPING[quest.status]"></app-icon>\n              </td>\n            } @else {\n              <ng-container *ngTemplateOutlet="emptyColumn" />\n            }\n          </tr>\n        }\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<ng-template #emptyColumn>\n  <td></td>\n</ng-template>\n',imports:[fesm2022_forms.YN,router.Wk,icon_component.R,common.NgTemplateOutlet,context_menu_component.E],changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[quest_table_componentngResource_default()]})],QuestTableComponent)},"./src/utils/DOM.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getFirstFocusableChild(el){return[...el.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')].filter((child=>!child.hasAttribute("disabled")))[0]}__webpack_require__.d(__webpack_exports__,{L:()=>getFirstFocusableChild,n:()=>componentId});let nextId=0;function componentId(){return"app-"+nextId++}},"./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>debounceTime});var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),_util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");function debounceTime(dueTime,scheduler){return void 0===scheduler&&(scheduler=_scheduler_async__WEBPACK_IMPORTED_MODULE_0__.E),(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)((function(source,subscriber){var activeTask=null,lastValue=null,lastTime=null,emit=function(){if(activeTask){activeTask.unsubscribe(),activeTask=null;var value=lastValue;lastValue=null,subscriber.next(value)}};function emitWhenIdle(){var targetTime=lastTime+dueTime,now=scheduler.now();if(now<targetTime)return activeTask=this.schedule(void 0,targetTime-now),void subscriber.add(activeTask);emit()}source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,(function(value){lastValue=value,lastTime=scheduler.now(),activeTask||(activeTask=scheduler.schedule(emitWhenIdle,dueTime),subscriber.add(activeTask))}),(function(){emit(),subscriber.complete()}),void 0,(function(){lastValue=activeTask=null})))}))}},"./node_modules/rxjs/dist/esm5/internal/operators/share.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>share});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_Subject__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),_Subscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscriber.js"),_util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js");function share(options){void 0===options&&(options={});var _a=options.connector,connector=void 0===_a?function(){return new _Subject__WEBPACK_IMPORTED_MODULE_0__.B}:_a,_b=options.resetOnError,resetOnError=void 0===_b||_b,_c=options.resetOnComplete,resetOnComplete=void 0===_c||_c,_d=options.resetOnRefCountZero,resetOnRefCountZero=void 0===_d||_d;return function(wrapperSource){var connection,resetConnection,subject,refCount=0,hasCompleted=!1,hasErrored=!1,cancelReset=function(){null==resetConnection||resetConnection.unsubscribe(),resetConnection=void 0},reset=function(){cancelReset(),connection=subject=void 0,hasCompleted=hasErrored=!1},resetAndUnsubscribe=function(){var conn=connection;reset(),null==conn||conn.unsubscribe()};return(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)((function(source,subscriber){refCount++,hasErrored||hasCompleted||cancelReset();var dest=subject=null!=subject?subject:connector();subscriber.add((function(){0!==--refCount||hasErrored||hasCompleted||(resetConnection=handleReset(resetAndUnsubscribe,resetOnRefCountZero))})),dest.subscribe(subscriber),!connection&&refCount>0&&(connection=new _Subscriber__WEBPACK_IMPORTED_MODULE_2__.Ms({next:function(value){return dest.next(value)},error:function(err){hasErrored=!0,cancelReset(),resetConnection=handleReset(reset,resetOnError,err),dest.error(err)},complete:function(){hasCompleted=!0,cancelReset(),resetConnection=handleReset(reset,resetOnComplete),dest.complete()}}),(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_3__.Tg)(source).subscribe(connection))}))(wrapperSource)}}function handleReset(reset,on){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];if(!0!==on){if(!1!==on){var onSubscriber=new _Subscriber__WEBPACK_IMPORTED_MODULE_2__.Ms({next:function(){onSubscriber.unsubscribe(),reset()}});return(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_3__.Tg)(on.apply(void 0,(0,tslib__WEBPACK_IMPORTED_MODULE_4__.fX)([],(0,tslib__WEBPACK_IMPORTED_MODULE_4__.zs)(args)))).subscribe(onSubscriber)}}else reset()}},"./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>shareReplay});var _ReplaySubject__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js"),_share__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/share.js");function shareReplay(configOrBufferSize,windowTime,scheduler){var _a,_b,_c,bufferSize,refCount=!1;return configOrBufferSize&&"object"==typeof configOrBufferSize?(_a=configOrBufferSize.bufferSize,bufferSize=void 0===_a?1/0:_a,_b=configOrBufferSize.windowTime,windowTime=void 0===_b?1/0:_b,refCount=void 0!==(_c=configOrBufferSize.refCount)&&_c,scheduler=configOrBufferSize.scheduler):bufferSize=null!=configOrBufferSize?configOrBufferSize:1/0,(0,_share__WEBPACK_IMPORTED_MODULE_0__.u)({connector:function(){return new _ReplaySubject__WEBPACK_IMPORTED_MODULE_1__.m(bufferSize,windowTime,scheduler)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:refCount})}},"./src/app/design/molecules/context-menu/context-menu.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  --bs-dropdown-item-border-radius: var(--bs-border-radius);\n  --menu-text-size: var(--bs-btn-font-size);\n  --menu-option-text-size: var(--bs-dropdown-font-size);\n}\n\n.dropdown-toggle {\n  --bs-btn-font-size: var(--menu-text-size);\n}\n\n.dropdown-item {\n  font-size: var(--menu-option-text-size);\n}\n\n.dropdown-menu {\n  --bs-dropdown-item-padding-y: var(--spacer-2);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/quest-table/quest-table.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  --table-bg: var(--bs-gray-dark);\n  --table-striped-bg: #3a3a3a;\n  --warning-bg-color: rgba(255, 200, 36, 0.3);\n  --success-bg-color: rgba(147, 196, 125, 0.3);\n  --danger-bg-color: rgba(206, 10, 10, 0.3);\n}\n\n.heading {\n  margin-bottom: var(--spacer-3);\n}\n.heading__text {\n  margin-top: auto;\n  margin-bottom: auto;\n  padding-left: var(--spacer-0) !important;\n  padding-right: var(--spacer-0) !important;\n}\n.heading__select {\n  background-color: var(--table-striped-bg);\n  height: 2rem;\n  border: 1px solid var(--table-bg);\n  border-radius: var(--bs-border-radius);\n  color: var(--bs-white);\n}\n\n.table {\n  padding-bottom: var(--spacer-2);\n}\n.table__element {\n  padding: var(--spacer-3) var(--spacer-2) !important;\n}\n.table__element :hover {\n  color: var(--bs-link-hover-color);\n}\n.table__element--desktop-only {\n  display: none;\n}\n@media (min-width: 768px) {\n  .table__element--desktop-only {\n    display: table-cell;\n  }\n}\n.table__element--status {\n  vertical-align: middle;\n  text-align: center;\n  width: var(--spacer-0);\n  padding-left: var(--spacer-1);\n  padding-right: var(--spacer-1);\n}\n.table-warning {\n  --bs-table-bg: var(--warning-bg-color) !important;\n  --bs-table-accent-bg: var(--warning-bg-color) !important;\n  --bs-table-striped-bg: var(--warning-bg-color) !important;\n  color: var(--bs-white) !important;\n}\n.table-success {\n  --bs-table-bg: var(--success-bg-color) !important;\n  --bs-table-accent-bg: var(--success-bg-color) !important;\n  --bs-table-striped-bg: var(--success-bg-color) !important;\n  color: var(--bs-white) !important;\n}\n.table-danger {\n  --bs-table-bg: var(--danger-bg-color) !important;\n  --bs-table-accent-bg: var(--danger-bg-color) !important;\n  --bs-table-striped-bg: var(--danger-bg-color) !important;\n  color: var(--bs-white) !important;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);