(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[7937],{"./src/app/_services/article/player-class.service.mock.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>dummyClasses});const dummyClasses=[{name:"Artificer",pk:1,update_datetime:"2021-04-20T14:31:24.033655Z"},{name:"Barbarian",pk:2,update_datetime:"2021-04-20T14:31:27.810089Z"},{name:"Bard",pk:3,update_datetime:"2021-04-20T14:31:36.408312Z"},{name:"Cleric",pk:4,update_datetime:"2021-04-20T14:31:39.485140Z"},{name:"Druid",pk:5,update_datetime:"2021-04-20T14:31:50.431678Z"},{name:"Fighter",pk:6,update_datetime:"2021-04-20T14:31:53.562771Z"},{name:"Monk",pk:7,update_datetime:"2021-04-20T14:31:56.226259Z"},{name:"Paladin",pk:8,update_datetime:"2021-04-20T14:31:58.897597Z"},{name:"Ranger",pk:9,update_datetime:"2021-04-20T14:32:06.986455Z"},{name:"Rogue",pk:10,update_datetime:"2021-04-20T14:32:09.472989Z"},{name:"Sorcerer",pk:11,update_datetime:"2021-04-20T14:32:11.740394Z"},{name:"Warlock",pk:12,update_datetime:"2021-04-20T14:32:13.937586Z"},{name:"Wizard",pk:13,update_datetime:"2021-04-20T14:32:16.277146Z"}]},"./src/app/_services/formly/formly-service.mock.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>FormlyProvider});var _formly_service_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/_services/formly/formly-service.service.ts");const FormlyProvider={provide:_formly_service_service__WEBPACK_IMPORTED_MODULE_0__.$,useFactory:()=>new _formly_service_service__WEBPACK_IMPORTED_MODULE_0__.$}},"./src/app/_services/formly/formly-service.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>FormlyService});var tslib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),src_app_design_organisms_formly_select_disable_formly_select_disable_field_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/design/organisms/formly-select-disable/formly-select-disable-field.component.ts"),src_utils_array__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/array.ts"),src_utils_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/string.ts");let FormlyService=class FormlyService{buildOverviewSelectConfig(config){const options$=config.required??!0?config.options$:this.addEmptyOption(config.options$,config),sortedOptions$=this.sortOptions(options$,config),validators=this.getValidators(config);return{key:config.key,type:"select",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),labelProp:config.labelProp,valueProp:config.valueProp??"pk",options:sortedOptions$,required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildDisableSelectConfig(config){const options$=config.required??!0?config.options$:this.addEmptyOption(config.options$,config),sortedOptions$=this.sortOptions(options$,config),validators=this.getValidators(config);return{key:config.key,type:"select-disable",className:config.className,wrappers:config.wrappers,hideExpression:config.hide??!1,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),labelProp:config.labelProp,valueProp:config.valueProp??"pk",options:sortedOptions$,required:config.required??!0,warningMessage:config.warningMessage,additionalProperties:{disabledExpression:config.disabledExpression,tooltipMessage:config.tooltipMessage??"",showWrapperLabel:config.showWrapperLabel??!0}},validators:{validation:validators}}}buildStaticSelectConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"select",className:config.className,wrappers:config.wrappers,hideExpression:config.hide??!1,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),options:config.options,required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildStaticStringSelectConfig(partialConfig){const options=partialConfig.options.map(str=>({label:str,value:str})),config={...partialConfig,options};return this.buildStaticSelectConfig(config)}buildInputConfig(config){const validators=this.getValidators(config);switch(config.inputKind){case"NUMBER":validators.push("notInteger");break;case"NAME":validators.push("hasSpecialCharacters");break;case"NUMBER_FRACTION":validators.push("notNumber")}let innerInputType;switch(config.inputKind){case"NUMBER":innerInputType="number";break;case"COLOR":innerInputType="color";break;default:innerInputType="string"}return{key:config.key,type:"input",className:config.className,wrappers:config.wrappers,hideExpression:config.hide??!1,parsers:config.parsers,props:{maxLength:config.maxLength,max:config.max,minLength:config.minLength,min:config.min,label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),type:innerInputType,required:config.required??!0,disabled:!!config.disabled,placeholder:config.placeholder??void 0},validators:{validation:validators}}}buildSinglePasswordConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"input",className:config.className,fieldGroupClassName:config.fieldGroupClassName,props:{label:config.label??"Password",type:"password",required:!0,placeholder:"Your password",disabled:config.disabled},validators:{validation:validators}}}buildConfirmedPasswordConfig(config){const validators=config.validators??[];validators.push("required");return{validators:{validation:[{name:"fieldMatch",options:{errorPath:"passwordConfirm"}}]},fieldGroup:[{key:"password",type:"input",className:config.className,props:{label:config.label??"Password",type:"password",required:!0,placeholder:"Password, at least 7 characters",disabled:config.disabled},validators:{validation:validators}},{key:"passwordConfirm",type:"input",className:config.className,props:{label:config.label?"Confirm "+config.label:"Password Confirmation",type:"password",required:!0,placeholder:"Please re-enter your password",disabled:config.disabled}}]}}buildCheckboxConfig(config){return{key:config.key,type:"checkbox",className:config.className,wrappers:config.wrappers,defaultValue:config.defaultValue,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled}}}buildDatepickerConfig(config){const validators=this.getValidators(config);return validators.push("date"),{key:config.key,type:"datepicker",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildFileFieldConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"file",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{buttonType:config.fileButtonType??"SECONDARY",fileFieldKind:config.fileFieldKind??"IMAGE",label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:!!config.disabled},validators:{validation:validators}}}buildEditorConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"text-editor",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildTypeaheadConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"typeahead",className:config.className,wrappers:[...config.wrappers??[],"form-field"],props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled,placeholder:"Type to receive suggestions",additionalProperties:{getOptions:config.getOptions,optionLabelProp:config.optionLabelProp,optionValueProp:config.optionValueProp,initialOption$:config.initialOption$,formatSearchTerm:config.formatSearchTerm}},validators:{validation:validators}}}toUpdateForm(fields){return fields.filter(field=>!("file"===field.type))}getValidators(config){const validators=config.validators??[];return config.required&&validators.push("required"),validators}addEmptyOption(list,config){return Array.isArray(list)?(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)([this.createEmptyOption(config),...list]):list.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.T)(values=>[this.createEmptyOption(config),...values]))}createEmptyOption(config){const emptyOption={};emptyOption[config.labelProp]=src_app_design_organisms_formly_select_disable_formly_select_disable_field_component__WEBPACK_IMPORTED_MODULE_0__.D.EMPTY_OPTION_LABEL;return emptyOption[config.valueProp??config.key]=src_app_design_organisms_formly_select_disable_formly_select_disable_field_component__WEBPACK_IMPORTED_MODULE_0__.D.EMPTY_OPTION_VALUE,emptyOption}sortOptions(list$,config){const{sortProp,sortDirection}=config;return sortProp?list$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.T)(list=>(0,src_utils_array__WEBPACK_IMPORTED_MODULE_4__.Z)(list,sortProp,sortDirection??"asc"))):list$}};FormlyService=(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_6__._qm)({providedIn:"root"})],FormlyService)},"./src/app/design/atoms/card/card.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".accordion {\n  --bs-accordion-active-bg: var(--bs-gray-900) !important;\n}\n\nbutton.btn.btn-link:hover {\n  text-decoration: none !important;\n}\n\nbutton.btn.btn-link:focus {\n  text-decoration: none !important;\n  box-shadow: none !important;\n}\n\n.card button.btn.btn-link {\n  width: 100%;\n  text-align: left;\n}\n\n.form-control {\n  height: 2.75rem;\n  font-size: 1.2rem;\n}\n\ninput.form-control {\n  background-color: transparent !important;\n  color: white !important;\n  border: solid white 1px !important;\n}\n\ninput.form-control:focus {\n  box-shadow: 3px blue;\n  color: white;\n}\n\nselect.form-select {\n  color: white !important;\n  background-color: var(--bs-dark) !important;\n}\n\nselect:focus {\n  background-color: var(--bs-secondary);\n  box-shadow: 3px blue;\n  color: white;\n}\n\noption {\n  background-color: #1b1f22;\n  color: white;\n  font-size: 18px;\n}\n\n.custom-control.custom-checkbox {\n  transform: scale(1.2);\n  transform-origin: 0;\n}\n\n.visually-hidden {\n  display: none;\n}\n\n.vh-50 {\n  height: 50vh;\n}\n\n.tooltip-inner {\n  --bs-tooltip-bg: var(--bs-info-bg-subtle);\n  --bs-tooltip-color: var(--bs-emphasis-color);\n}\n\n:host {\n  --card-bg-color: #303030;\n  --card-flex-direction: column;\n  --card-padding: var(--spacer-4);\n  border-radius: var(--bs-border-radius);\n}\n\n.card {\n  background-color: var(--card-bg-color);\n  padding: var(--card-padding);\n  flex-direction: var(--card-flex-direction);\n  width: 100%;\n  height: 100%;\n  border: var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/atoms/card/card.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>CardComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var card_componentngResource=__webpack_require__("./src/app/design/atoms/card/card.component.scss?ngResource"),card_componentngResource_default=__webpack_require__.n(card_componentngResource),debug_node_JnOYh9kg=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs");let CardComponent=class CardComponent{};CardComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-card",template:'<div class="card">\n  <ng-content></ng-content>\n</div>',changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,imports:[],styles:[card_componentngResource_default()]})],CardComponent)},"./src/app/design/organisms/config-table/config-table.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".config-tables__section {\n  margin-top: var(--spacer-3);\n  margin-bottom: var(--spacer-5);\n}\n\n.section__separator {\n  --separator-margin-top: var(--spacer-0);\n}\n.section__table-container {\n  overflow-x: auto;\n}\n\n.heading {\n  display: flex;\n  justify-content: space-between;\n}\n.heading__text {\n  margin-bottom: var(--spacer-0);\n}\n.heading__buttons {\n  align-self: flex-end;\n  position: relative;\n  top: 1px;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/page-container/page-container.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".page {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n}\n.page__background {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: -2;\n  width: 100%;\n  height: 100mvh;\n}\n.page__foreground {\n  max-width: 60rem;\n  width: 100%;\n  background-color: var(--wiki-bg-transparent);\n  padding: var(--spacer-3) var(--spacer-3) var(--spacer-5) var(--spacer-3);\n  margin-bottom: var(--spacer-4);\n  color: white;\n}\n@media (min-width: 768px) {\n  .page__foreground {\n    border-radius: var(--bs-border-radius);\n  }\n}\n@media (min-width: 992px) {\n  .page__foreground {\n    padding: var(--spacer-4);\n  }\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/page-container/page-container.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>PageContainerComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var page_container_componentngResource=__webpack_require__("./src/app/design/organisms/page-container/page-container.component.scss?ngResource"),page_container_componentngResource_default=__webpack_require__.n(page_container_componentngResource),debug_node_JnOYh9kg=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),private_export_B_vy_9K7=__webpack_require__("./node_modules/@angular/animations/fesm2022/private_export-B_vy_9K7.mjs");const fadeIn=(0,private_export_B_vy_9K7.hZ)("fadeIn",[(0,private_export_B_vy_9K7.kY)(":enter",[(0,private_export_B_vy_9K7.iF)({opacity:0}),(0,private_export_B_vy_9K7.i0)("250ms ease-in",(0,private_export_B_vy_9K7.iF)({opacity:1}))]),(0,private_export_B_vy_9K7.kY)(":leave",[(0,private_export_B_vy_9K7.iF)({opacity:1}),(0,private_export_B_vy_9K7.i0)("250ms ease-out",(0,private_export_B_vy_9K7.iF)({opacity:0}))])]);(0,private_export_B_vy_9K7.hZ)("fadeOut",[(0,private_export_B_vy_9K7.kY)(":leave",[(0,private_export_B_vy_9K7.iF)({opacity:1}),(0,private_export_B_vy_9K7.i0)("250ms ease-out",(0,private_export_B_vy_9K7.iF)({opacity:0}))])]);let PageContainerComponent=class PageContainerComponent{};PageContainerComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-page-container",template:'<div class="page" [@fadeIn]>\n  <div class="page__foreground">\n    <ng-content></ng-content>\n  </div>\n</div>\n',imports:[],animations:[fadeIn],changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,styles:[page_container_componentngResource_default()]})],PageContainerComponent)},"./src/app/design/templates/config-tables/config-tables.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/templates/config-tables/config-tables.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithData:()=>WithData,__namedExportsOrder:()=>__namedExportsOrder,default:()=>config_tables_stories});var testing=__webpack_require__("./node_modules/@angular/router/fesm2022/testing.mjs"),external_STORYBOOK_MODULE_ACTIONS_=__webpack_require__("storybook/actions"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs");var player_class_service_mock=__webpack_require__("./src/app/_services/article/player-class.service.mock.ts"),formly_service_mock=__webpack_require__("./src/app/_services/formly/formly-service.mock.ts"),animations=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),formly_constants=__webpack_require__("./src/app/_modules/formly_constants.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var config_tables_componentngResource=__webpack_require__("./src/app/design/templates/config-tables/config-tables.component.scss?ngResource"),config_tables_componentngResource_default=__webpack_require__.n(config_tables_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),resource_BarKSp_3=__webpack_require__("./node_modules/@angular/core/fesm2022/resource-BarKSp_3.mjs"),debug_node_JnOYh9kg=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),router_module_DTmwsUYo=__webpack_require__("./node_modules/@angular/router/fesm2022/router_module-DTmwsUYo.mjs"),formly_service_service=__webpack_require__("./src/app/_services/formly/formly-service.service.ts"),routing_service=__webpack_require__("./src/app/_services/routing.service.ts"),button_link_component=__webpack_require__("./src/app/design/atoms/button-link/button-link.component.ts");var config_table_componentngResource=__webpack_require__("./src/app/design/organisms/config-table/config-table.component.scss?ngResource"),config_table_componentngResource_default=__webpack_require__.n(config_table_componentngResource),heading_directive=__webpack_require__("./src/app/_directives/heading.directive.ts"),button_component=__webpack_require__("./src/app/design/atoms/button/button.component.ts"),card_component=__webpack_require__("./src/app/design/atoms/card/card.component.ts"),icon_component=__webpack_require__("./src/app/design/atoms/icon/icon.component.ts"),separator_component=__webpack_require__("./src/app/design/atoms/separator/separator.component.ts"),confirmation_toggle_button_component=__webpack_require__("./src/app/design/molecules/confirmation-toggle-button/confirmation-toggle-button.component.ts"),form_component=__webpack_require__("./src/app/design/molecules/form/form.component.ts");let ConfigTableComponent=class ConfigTableComponent{constructor(){this.table=core.input.required(),this.canDeleteGlobalEntries=core.input.required(),this.canDeleteCampaignEntries=core.input.required(),this.canCreate=core.input.required(),this.ariaLevel=core.input.required(),this.tableEntries=(0,resource_BarKSp_3.EW)(()=>{const entries=this.table().entries??[],entryIdProp=this.table().idProp,campaignIdProp=this.table().campaignIdProp;return entries.map(entry=>this.toTableEntry(entry,entryIdProp,campaignIdProp))}),this.columnNames=(0,resource_BarKSp_3.EW)(()=>{const firstEntry=this.table().entries?.[0];return firstEntry?Object.keys(firstEntry).filter(key=>key!==this.table().idProp):[]}),this.loadTableEntries=(0,core.output)(),this.deleteTableEntry=(0,core.output)(),this.createTableEntry=(0,core.output)()}createEntry(entry){this.createTableEntry.emit(entry)}deleteEntry(entryId){const entry=this.table().entries?.find(entry=>entry[this.table().idProp]===entryId);entry&&this.deleteTableEntry.emit(entry)}toTableEntry(entry,entryIdProp,campaignIdProp){const properties=Object.keys(entry).filter(key=>key!==entryIdProp).map(key=>({key,value:entry[key]}));return{id:entry[entryIdProp],campaignId:entry[campaignIdProp],properties}}static#_=this.propDecorators={table:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"table",required:!0,transform:void 0}]}],canDeleteGlobalEntries:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canDeleteGlobalEntries",required:!0,transform:void 0}]}],canDeleteCampaignEntries:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canDeleteCampaignEntries",required:!0,transform:void 0}]}],canCreate:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canCreate",required:!0,transform:void 0}]}],ariaLevel:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"ariaLevel",required:!0,transform:void 0}]}],loadTableEntries:[{type:debug_node_JnOYh9kg.k7i,args:["loadTableEntries"]}],deleteTableEntry:[{type:debug_node_JnOYh9kg.k7i,args:["deleteTableEntry"]}],createTableEntry:[{type:debug_node_JnOYh9kg.k7i,args:["createTableEntry"]}]}};ConfigTableComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-config-table",imports:[icon_component.R,separator_component.F,confirmation_toggle_button_component.T,form_component.s,card_component.i,button_component.Q,heading_directive.m],template:'<div class="config-tables__section section">\n  \x3c!-- Section Heading --\x3e\n  <div class="section__heading heading">\n    <div [heading]="ariaLevel()" class="h3 heading__text">\n      <app-icon [icon]="table().icon"></app-icon>\n      {{ table().name }}\n    </div>\n\n    \x3c!-- Heading Buttons --\x3e\n    <div class="heading__buttons">\n      \x3c!-- Add Users --\x3e\n      @if (canCreate()) {\n        <button\n          btn\n          [kind]="\'DARK\'"\n          [icon]="table().showForm ? \'times\' : \'plus\'"\n          [text]="table().showForm ? \'Cancel\' : \'Add Entry\'"\n          (clicked)="table().showForm = !table().showForm"\n        ></button>\n      }\n\n      <button\n        btn\n        [kind]="\'PRIMARY\'"\n        [icon]="\'refresh\'"\n        [text]="\'Load\'"\n        (clicked)="loadTableEntries.emit()"\n      ></button>\n    </div>\n  </div>\n\n  <app-separator class="section__separator"></app-separator>\n\n  \x3c!-- Section Body --\x3e\n\n  @if (!table().showForm) {\n    @if (tableEntries().length === 0) {\n      Load entries to see them\n    }\n    <div class="section__table-container">\n      \x3c!-- Table --\x3e\n\n      @if (tableEntries().length > 0) {\n        <table class="table table-dark table-striped">\n          \x3c!-- Table heading --\x3e\n          <thead>\n            <tr>\n              <th scope="col">#</th>\n              @for (columnName of columnNames(); track columnName) {\n                <th scope="col" class="text-uppercase">\n                  {{ columnName }}\n                </th>\n              }\n            </tr>\n          </thead>\n          \x3c!-- Table body --\x3e\n          <tbody>\n            @for (entry of tableEntries(); track entry) {\n              <tr>\n                <th scope="row">{{ entry.id }}</th>\n                @for (property of entry.properties; track property.key) {\n                  <td>\n                    {{ property.value ?? "---" }}\n                  </td>\n                }\n                @let isCampaignEntry = entry.campaignId != null;\n                @if (\n                  (isCampaignEntry && canDeleteCampaignEntries()) ||\n                  canDeleteGlobalEntries()\n                ) {\n                  <td>\n                    <app-confirmation-toggle-button\n                      [toggleSize]="\'SMALL\'"\n                      [itemToDelete]="\'this entry\'"\n                      [icon]="\'trash\'"\n                      (confirm)="deleteEntry(entry.id)"\n                    ></app-confirmation-toggle-button>\n                  </td>\n                }\n              </tr>\n            }\n          </tbody>\n        </table>\n      }\n    </div>\n  }\n\n  @if (table().showForm) {\n    <app-card>\n      <h4>Adding new {{ table().name }}</h4>\n      \x3c!-- Form --\x3e\n      <app-form\n        [model]="table().model"\n        [fields]="table().formFields"\n        [cancelButtonType]="\'DARK\'"\n        (formlySubmit)="createEntry($event)"\n        (formlyCancel)="table().showForm = !table().showForm"\n      ></app-form>\n    </app-card>\n  }\n</div>\n',changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,styles:[config_table_componentngResource_default()]})],ConfigTableComponent);var page_container_component=__webpack_require__("./src/app/design/organisms/page-container/page-container.component.ts");let ConfigTablesComponent=class ConfigTablesComponent{constructor(routingService,formlyService){this.routingService=routingService,this.formlyService=formlyService,this.currentCampaignId=core.input.required(),this.tableData=core.input.required(),this.canDeleteGlobalEntries=core.input.required(),this.hasCampaignWritePermission=core.input.required(),this.loadTableEntries=(0,core.output)(),this.deleteTableEntry=(0,core.output)(),this.createTableEntry=(0,core.output)(),this.canCreate=(0,resource_BarKSp_3.EW)(()=>{if(this.canDeleteGlobalEntries())return!0;return!!(null!=this.currentCampaignId())&&this.hasCampaignWritePermission()}),this.tables=(0,resource_BarKSp_3.EW)(()=>[{name:"Marker Type",kind:"MARKER_TYPE",icon:"tag",idProp:"id",campaignIdProp:"campaign_id",model:{name:void 0,is_text_marker:!1,icon:void 0,color:void 0,campaign_id:this.currentCampaignId()},formFields:[this.formlyService.buildInputConfig({key:"name",inputKind:"NAME"}),this.formlyService.buildCheckboxConfig({key:"is_text_marker",label:"Show name instead of Icon",defaultValue:!1}),this.formlyService.buildInputConfig({key:"icon",label:"Icon (https://fontawesome.com/v6/search?o=r&m=free)",inputKind:"NAME"}),this.formlyService.buildInputConfig({key:"color",inputKind:"COLOR"})],showForm:!1,entries:this.tableData().MARKER_TYPE},{name:"Class",kind:"PLAYER_CLASS",icon:"user",idProp:"pk",campaignIdProp:"campaign_id",model:{name:void 0,campaign_id:this.currentCampaignId()},formFields:[this.formlyService.buildInputConfig({key:"name",inputKind:"NAME"})],entries:this.tableData().PLAYER_CLASS,showForm:!1},{name:"Node Link Type",kind:"NODE_LINK_TYPE",icon:"link",model:{campaign_id:this.currentCampaignId(),weight:1},entries:this.tableData().NODE_LINK_TYPE,formFields:[this.formlyService.buildInputConfig({key:"name",inputKind:"NAME"}),this.formlyService.buildInputConfig({inputKind:"NUMBER_FRACTION",key:"weight",max:3,min:-3}),this.formlyService.buildInputConfig({key:"color",inputKind:"COLOR"}),this.formlyService.buildInputConfig({key:"icon",inputKind:"NAME",wrappers:["form-field"],showWrapperLabel:!0,label:"Icon (https://fontawesome.com/v6/search?o=r&m=free)"})],idProp:"id",campaignIdProp:"campaign_id",showForm:!1}]),this.campaignOverviewUrl=this.routingService.getRoutePath("campaign-overview")}createEntry(kind,entry){this.createTableEntry.emit({table:kind,entry});const table=this.getTable(kind);table&&(table.showForm=!1)}getTable(kind){return this.tables().find(table=>table.kind===kind)}static#_=this.ctorParameters=()=>[{type:routing_service.O},{type:formly_service_service.$}];static#_2=this.propDecorators={currentCampaignId:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"currentCampaignId",required:!0,transform:void 0}]}],tableData:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"tableData",required:!0,transform:void 0}]}],canDeleteGlobalEntries:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canDeleteGlobalEntries",required:!0,transform:void 0}]}],hasCampaignWritePermission:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"hasCampaignWritePermission",required:!0,transform:void 0}]}],loadTableEntries:[{type:debug_node_JnOYh9kg.k7i,args:["loadTableEntries"]}],deleteTableEntry:[{type:debug_node_JnOYh9kg.k7i,args:["deleteTableEntry"]}],createTableEntry:[{type:debug_node_JnOYh9kg.k7i,args:["createTableEntry"]}]}};ConfigTablesComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-config-tables",template:'<app-page-container>\n  <article class="config-tables">\n    <h1>Config Tables</h1>\n\n    <a\n      btn\n      class="config-tables__return-button"\n      [routerLink]="campaignOverviewUrl"\n      [kind]="\'SECONDARY\'"\n      [icon]="\'globe-americas\'"\n      [text]="\'Back to campaign overview\'"\n    >\n    </a>\n\n    \x3c!-- Sections --\x3e\n    @for (table of tables(); track table.kind) {\n      <app-config-table\n        [table]="$any(table)"\n        [ariaLevel]="2"\n        [canDeleteGlobalEntries]="canDeleteGlobalEntries()"\n        [canDeleteCampaignEntries]="hasCampaignWritePermission()"\n        [canCreate]="canCreate()"\n        (loadTableEntries)="loadTableEntries.emit(table.kind)"\n        (createTableEntry)="createEntry(table.kind, $event)"\n        (deleteTableEntry)="\n          deleteTableEntry.emit({ table: table.kind, entry: $event })\n        "\n      ></app-config-table>\n    }\n\n    <a\n      btn\n      class="config-tables__return-button"\n      [kind]="\'SECONDARY\'"\n      [icon]="\'globe-americas\'"\n      [text]="\'Back to campaign overview\'"\n      [routerLink]="campaignOverviewUrl"\n    >\n    </a>\n  </article>\n</app-page-container>\n',imports:[page_container_component.i,router_module_DTmwsUYo.Wk,button_link_component.W,ConfigTableComponent],changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,styles:[config_tables_componentngResource_default()]})],ConfigTablesComponent);const config_tables_stories={title:"DesignSystem/Templates/ConfigTablesComponent",component:ConfigTablesComponent,decorators:[(0,dist.Iz)({imports:[testing.c1,formly_constants.d_,animations.BrowserAnimationsModule],declarations:[],providers:[formly_service_mock.p]})],args:{currentCampaignId:1,campaignName:"Aldrune",tableData:{},canDeleteGlobalEntries:!0,hasCampaignWritePermission:!0}},Template=args=>({props:{...args,loadTableEntries:(0,external_STORYBOOK_MODULE_ACTIONS_.action)("loadTableEntries"),deleteTableEntry:(0,external_STORYBOOK_MODULE_ACTIONS_.action)("deleteTableEntry"),createTableEntry:(0,external_STORYBOOK_MODULE_ACTIONS_.action)("createTableEntry")}}),Default=Template.bind({});Default.args={};const WithData=Template.bind({});WithData.args={tableData:{MARKER_TYPE:[{name:"Forest",icon:"tree",is_text_marker:!0,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:28:05.887185Z",fontawesome_type:"fa",color:"darkgreen",id:1},{name:"Capital",icon:"university",is_text_marker:!0,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:27:26.682656Z",fontawesome_type:"fa",color:"purple",id:2},{name:"Cathedral",icon:"place-of-worship",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:51:51.177824Z",fontawesome_type:"fas",color:"orange",id:3},{name:"Cave",icon:"moon",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T16:07:40.729354Z",fontawesome_type:"fas",color:"gray",id:4},{name:"Event",icon:"exclamation",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:28:01.355792Z",fontawesome_type:"fa",color:"red",id:5},{name:"Fort",icon:"fort-awesome",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:50:41.269164Z",fontawesome_type:"fa",color:"lightgray",id:6},{name:"Grove",icon:"paw",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:28:25.319406Z",fontawesome_type:"fa",color:"green",id:7},{name:"Mountain",icon:"mountain",is_text_marker:!0,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:52:02.398844Z",fontawesome_type:"fas",color:"beige",id:8},{name:"Ruin",icon:"dungeon",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:46:02.394436Z",fontawesome_type:"fas",color:"lightgray",id:9},{name:"Town",icon:"info",is_text_marker:!0,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:29:00.320971Z",fontawesome_type:"fa",color:"blue",id:10},{name:"Settlement",icon:"home",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:28:55.824551Z",fontawesome_type:"fa",color:"lightgreen",id:11},{name:"Docks",icon:"anchor",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:27:49.646018Z",fontawesome_type:"fa",color:"blue",id:12},{name:"Building",icon:"home",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:27:17.955863Z",fontawesome_type:"fa",color:"lightgray",id:13},{name:"Religious Structure",icon:"place-of-worship",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T16:17:57.221134Z",fontawesome_type:"fas",color:"orange",id:14},{name:"Beach",icon:"umbrella-beach",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T16:09:38.596422Z",fontawesome_type:"fas",color:"lightblue",id:15},{name:"Canal",icon:"tint",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:27:22.172661Z",fontawesome_type:"fa",color:"lightblue",id:16},{name:"Cliff",icon:"mountain",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:27:37.095700Z",fontawesome_type:"fa",color:"beige",id:17},{name:"District",icon:"diamond",is_text_marker:!0,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:27:41.761572Z",fontawesome_type:"fa",color:"black",id:18},{name:"Garden/Park",icon:"tree",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:28:17.516375Z",fontawesome_type:"fa",color:"lightgreen",id:19},{name:"Estate",icon:"gavel",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:27:57.200846Z",fontawesome_type:"fa",color:"purple",id:20},{name:"Academy Related",icon:"hat-wizard",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T16:23:53.376734Z",fontawesome_type:"fas",color:"lightgray",id:21},{name:"Outposts",icon:"chess-rook",is_text_marker:!1,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-29T04:51:24.882128Z",fontawesome_type:"fas",color:"lightgray",id:22},{name:"Sea/Ocean",icon:"water",is_text_marker:!0,creation_datetime:"2021-07-03T17:56:33.339291Z",update_datetime:"2021-07-27T15:28:51.303357Z",fontawesome_type:"fa",color:"gray",id:23},{name:"Underwater Ruins",icon:"dungeon",is_text_marker:!1,creation_datetime:"2021-07-27T15:59:53.480354Z",update_datetime:"2021-07-27T16:01:53.702694Z",fontawesome_type:"fas",color:"lightblue",id:24},{name:"Palace",icon:"crown",is_text_marker:!1,creation_datetime:"2021-07-27T16:14:14.295182Z",update_datetime:"2021-07-27T16:14:14.295249Z",fontawesome_type:"fas",color:"lightgray",id:25},{name:"Store",icon:"store",is_text_marker:!1,creation_datetime:"2021-07-27T16:18:35.147729Z",update_datetime:"2021-07-27T16:18:35.147809Z",fontawesome_type:"fas",color:"lightgray",id:26},{name:"Inn",icon:"hotel",is_text_marker:!1,creation_datetime:"2021-07-27T16:22:11.783529Z",update_datetime:"2021-07-27T16:22:11.783599Z",fontawesome_type:"fas",color:"lightgray",id:27},{name:"Monument",icon:"monument",is_text_marker:!1,creation_datetime:"2021-07-27T16:22:26.373214Z",update_datetime:"2021-07-27T16:22:26.373289Z",fontawesome_type:"fas",color:"lightgray",id:28}],PLAYER_CLASS:player_class_service_mock.T}};const __namedExportsOrder=["Default","WithData"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => ({\n  props: {\n    ...args,\n    loadTableEntries: action('loadTableEntries'),\n    deleteTableEntry: action('deleteTableEntry'),\n    createTableEntry: action('createTableEntry')\n  }\n})",...Default.parameters?.docs?.source}}},WithData.parameters={...WithData.parameters,docs:{...WithData.parameters?.docs,source:{originalSource:"args => ({\n  props: {\n    ...args,\n    loadTableEntries: action('loadTableEntries'),\n    deleteTableEntry: action('deleteTableEntry'),\n    createTableEntry: action('createTableEntry')\n  }\n})",...WithData.parameters?.docs?.source}}}},"./src/utils/array.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>sortByProp});const sortByProp=(list,prop,sortDirection="asc",caseSensitive=!1)=>{const newList=[...list];return newList.sort((a,b)=>{const sortValue=(caseSensitive?a[prop]:`${a[prop]}`.toLowerCase())>(caseSensitive?b[prop]:`${b[prop]}`.toLowerCase())?1:-1;return"desc"===sortDirection?-1*sortValue:sortValue}),newList}}}]);