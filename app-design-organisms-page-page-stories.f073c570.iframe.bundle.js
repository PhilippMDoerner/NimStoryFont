(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[6307],{"./node_modules/rxjs/dist/esm5/internal/operators/bufferCount.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>bufferCount});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_arrRemove__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/arrRemove.js");function bufferCount(bufferSize,startBufferEvery){return void 0===startBufferEvery&&(startBufferEvery=null),startBufferEvery=null!=startBufferEvery?startBufferEvery:bufferSize,(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.N)(function(source,subscriber){var buffers=[],count=0;source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__._)(subscriber,function(value){var e_1,_a,e_2,_b,toEmit=null;count++%startBufferEvery===0&&buffers.push([]);try{for(var buffers_1=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Ju)(buffers),buffers_1_1=buffers_1.next();!buffers_1_1.done;buffers_1_1=buffers_1.next()){(buffer=buffers_1_1.value).push(value),bufferSize<=buffer.length&&(toEmit=null!=toEmit?toEmit:[]).push(buffer)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{buffers_1_1&&!buffers_1_1.done&&(_a=buffers_1.return)&&_a.call(buffers_1)}finally{if(e_1)throw e_1.error}}if(toEmit)try{for(var toEmit_1=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Ju)(toEmit),toEmit_1_1=toEmit_1.next();!toEmit_1_1.done;toEmit_1_1=toEmit_1.next()){var buffer=toEmit_1_1.value;(0,_util_arrRemove__WEBPACK_IMPORTED_MODULE_3__.o)(buffers,buffer),subscriber.next(buffer)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{toEmit_1_1&&!toEmit_1_1.done&&(_b=toEmit_1.return)&&_b.call(toEmit_1)}finally{if(e_2)throw e_2.error}}},function(){var e_3,_a;try{for(var buffers_2=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Ju)(buffers),buffers_2_1=buffers_2.next();!buffers_2_1.done;buffers_2_1=buffers_2.next()){var buffer=buffers_2_1.value;subscriber.next(buffer)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{buffers_2_1&&!buffers_2_1.done&&(_a=buffers_2.return)&&_a.call(buffers_2)}finally{if(e_3)throw e_3.error}}subscriber.complete()},void 0,function(){buffers=null}))})}},"./node_modules/rxjs/dist/esm5/internal/operators/repeat.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>repeat});var _observable_empty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js"),_util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_observable_timer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js");function repeat(countOrConfig){var _a,delay,count=1/0;return null!=countOrConfig&&("object"==typeof countOrConfig?(_a=countOrConfig.count,count=void 0===_a?1/0:_a,delay=countOrConfig.delay):count=countOrConfig),count<=0?function(){return _observable_empty__WEBPACK_IMPORTED_MODULE_0__.w}:(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)(function(source,subscriber){var sourceSub,soFar=0,resubscribe=function(){if(null==sourceSub||sourceSub.unsubscribe(),sourceSub=null,null!=delay){var notifier="number"==typeof delay?(0,_observable_timer__WEBPACK_IMPORTED_MODULE_2__.O)(delay):(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_3__.Tg)(delay(soFar)),notifierSubscriber_1=(0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_4__._)(subscriber,function(){notifierSubscriber_1.unsubscribe(),subscribeToSource()});notifier.subscribe(notifierSubscriber_1)}else subscribeToSource()},subscribeToSource=function(){var syncUnsub=!1;sourceSub=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_4__._)(subscriber,void 0,function(){++soFar<count?sourceSub?resubscribe():syncUnsub=!0:subscriber.complete()})),syncUnsub&&resubscribe()};subscribeToSource()})}},"./node_modules/rxjs/dist/esm5/internal/operators/retry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>retry});var _util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_identity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/identity.js"),_observable_timer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");function retry(configOrCount){var config;void 0===configOrCount&&(configOrCount=1/0);var _a=(config=configOrCount&&"object"==typeof configOrCount?configOrCount:{count:configOrCount}).count,count=void 0===_a?1/0:_a,delay=config.delay,_b=config.resetOnSuccess,resetOnSuccess=void 0!==_b&&_b;return count<=0?_util_identity__WEBPACK_IMPORTED_MODULE_0__.D:(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)(function(source,subscriber){var innerSub,soFar=0,subscribeForRetry=function(){var syncUnsub=!1;innerSub=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,function(value){resetOnSuccess&&(soFar=0),subscriber.next(value)},void 0,function(err){if(soFar++<count){var resub_1=function(){innerSub?(innerSub.unsubscribe(),innerSub=null,subscribeForRetry()):syncUnsub=!0};if(null!=delay){var notifier="number"==typeof delay?(0,_observable_timer__WEBPACK_IMPORTED_MODULE_3__.O)(delay):(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_4__.Tg)(delay(err,soFar)),notifierSubscriber_1=(0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,function(){notifierSubscriber_1.unsubscribe(),resub_1()},function(){subscriber.complete()});notifier.subscribe(notifierSubscriber_1)}else resub_1()}else subscriber.error(err)})),syncUnsub&&(innerSub.unsubscribe(),innerSub=null,subscribeForRetry())};subscribeForRetry()})}},"./node_modules/rxjs/dist/esm5/internal/operators/timeout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>timeout});var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),_util_isDate__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isDate.js"),_util_lift__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_util_createErrorClass__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_executeSchedule__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js"),TimeoutError=(0,_util_createErrorClass__WEBPACK_IMPORTED_MODULE_0__.L)(function(_super){return function TimeoutErrorImpl(info){void 0===info&&(info=null),_super(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=info}});function timeout(config,schedulerArg){var _a=(0,_util_isDate__WEBPACK_IMPORTED_MODULE_1__.v)(config)?{first:config}:"number"==typeof config?{each:config}:config,first=_a.first,each=_a.each,_b=_a.with,_with=void 0===_b?timeoutErrorFactory:_b,_c=_a.scheduler,scheduler=void 0===_c?null!=schedulerArg?schedulerArg:_scheduler_async__WEBPACK_IMPORTED_MODULE_2__.E:_c,_d=_a.meta,meta=void 0===_d?null:_d;if(null==first&&null==each)throw new TypeError("No timeout provided.");return(0,_util_lift__WEBPACK_IMPORTED_MODULE_3__.N)(function(source,subscriber){var originalSourceSubscription,timerSubscription,lastValue=null,seen=0,startTimer=function(delay){timerSubscription=(0,_util_executeSchedule__WEBPACK_IMPORTED_MODULE_4__.N)(subscriber,scheduler,function(){try{originalSourceSubscription.unsubscribe(),(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__.Tg)(_with({meta,lastValue,seen})).subscribe(subscriber)}catch(err){subscriber.error(err)}},delay)};originalSourceSubscription=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_6__._)(subscriber,function(value){null==timerSubscription||timerSubscription.unsubscribe(),seen++,subscriber.next(lastValue=value),each>0&&startTimer(each)},void 0,void 0,function(){(null==timerSubscription?void 0:timerSubscription.closed)||null==timerSubscription||timerSubscription.unsubscribe(),lastValue=null})),!seen&&startTimer(null!=first?"number"==typeof first?first:+first-scheduler.now():each)})}function timeoutErrorFactory(info){throw new TimeoutError(info)}},"./src/app/design/organisms/mobile-header/mobile-header.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".navbar {\n  --bs-navbar-padding-y: var(--spacer-1);\n  --bs-navbar-color: var(--bs-white);\n  --bs-navbar-brand-color: var(--bs-white);\n  --bs-navbar-brand-hover-color: var(--bs-white);\n  --bs-navbar-hover-color: var(--bs-white);\n  --bs-navbar-active-color: var(--bs-white);\n  --bs-navbar-toggler-padding-x: var(--spacer-3);\n  --bs-navbar-toggler-padding-y: var(--spacer-2);\n}\n.navbar .navbar-brand {\n  flex: 1;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-align: center;\n  margin-right: unset;\n}\n.navbar .navbar-brand .navbar-brand-icon {\n  --brand-height: calc(var(--navbar-height) - 6px);\n  height: var(--brand-height);\n  width: var(--brand-height);\n  border-radius: var(--bs-border-radius);\n  margin-right: var(--spacer-2);\n  margin-left: var(--spacer-2);\n}\n.navbar__offline-indicator {\n  border: var(--bs-border-style) 2px var(--bs-border-color);\n}\n\n.navbar-toggler:focus {\n  box-shadow: none;\n}\n.navbar-toggler:focus-visible {\n  outline: var(--focus-outline);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/page/page.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  --sb-width: 18rem;\n  --sb-margin: var(--sb-width);\n  --navbar-height: 52px;\n  height: 100dvh;\n  max-height: 100dvh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n}\n@media (min-width: 768px) {\n  :host {\n    overflow: hidden;\n    flex-direction: row;\n  }\n}\n\n.mobile {\n  width: 100%;\n  z-index: 2;\n}\n@media (min-width: 768px) {\n  .mobile {\n    display: none;\n  }\n}\n\n.desktop {\n  display: none;\n}\n.desktop .sidebar {\n  width: var(--sb-width);\n}\n@media (min-width: 768px) {\n  .desktop {\n    display: unset;\n  }\n}\n\n.page {\n  flex: 1;\n  transition: margin-left 0.1s ease-out;\n  position: relative;\n  max-height: calc(100mvh - var(--navbar-height));\n  overflow-y: auto;\n}\n@media (min-width: 768px) {\n  .page {\n    position: unset;\n    height: 100%;\n    max-height: unset;\n  }\n}\n.page__scrollup-indicator {\n  display: block;\n  position: fixed;\n  width: var(--spacer-5);\n  height: var(--spacer-5);\n  right: var(--spacer-2);\n  background-color: var(--bs-secondary);\n  border-radius: 0 0 var(--bs-border-radius-xl) var(--bs-border-radius-xl);\n  border: calc(2 * var(--bs-border-width)) var(--bs-border-style) var(--bs-border-color);\n  border-top-width: 0px;\n  transform: translateY(-1000%);\n  visibility: hidden;\n  transition: transform 0.2s ease-in-out;\n  z-index: 1;\n}\n.page__scrollup-indicator--visible {\n  visibility: visible;\n  transform: translateY(0%);\n}\n.page__content {\n  padding: var(--spacer-0);\n  width: 100%;\n  height: 100%;\n}\n.page__main {\n  padding: var(--spacer-0);\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  position: relative;\n}\n.page__background {\n  position: fixed;\n  transition: margin-left 0.1s ease-out;\n  top: 0;\n  left: 0;\n  z-index: -2;\n  width: 100%;\n  height: 100vh;\n}\n.page__background--shift-right {\n  margin-left: var(--sb-margin);\n}\n.page__loading-container {\n  position: absolute;\n  width: calc(2 * var(--spacer-5));\n  height: calc(2 * var(--spacer-5));\n  top: 25%;\n  left: calc(50% - var(--spacer-5));\n  background-color: var(--bs-secondary);\n  border-radius: var(--bs-border-radius-xl);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0.75;\n}\n\n:host ::ng-deep router-outlet + * {\n  z-index: 1;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/page/page.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>page_stories});var testing=__webpack_require__("./node_modules/@angular/router/fesm2022/testing.mjs"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),routing_mock_service=__webpack_require__("./src/app/_services/routing.mock.service.ts"),routing_service=__webpack_require__("./src/app/_services/routing.service.ts"),campaign_mock_service=__webpack_require__("./src/app/_services/utils/campaign.mock.service.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),root_effect_scheduler_DCy1y1b8=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler-DCy1y1b8.mjs"),resource_BarKSp_3=__webpack_require__("./node_modules/@angular/core/fesm2022/resource-BarKSp_3.mjs"),debug_node_JnOYh9kg=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),global_store=__webpack_require__("./src/app/global.store.ts");let FaviconService=class FaviconService{constructor(){this.serverUrl="",this.FAVICON_ELEMENT_ID="favicon",this.DEFAULT_FAVICON="assets/icons/icon-72x72.png",this.document=(0,root_effect_scheduler_DCy1y1b8.WQX)(root_effect_scheduler_DCy1y1b8.qQL),this.globalStore=(0,root_effect_scheduler_DCy1y1b8.WQX)(global_store.v),(0,resource_BarKSp_3.QZ)(()=>{const newFavicon=this.globalStore.currentCampaign()?.icon,newFaviconUrl=newFavicon?`${this.serverUrl}${newFavicon}`:void 0;this.updateFavicon(newFaviconUrl)})}updateFavicon(newFaviconUrl){if(!!!this.document)return;const faviconElement=this.document.querySelector(`#${this.FAVICON_ELEMENT_ID}`);faviconElement&&(faviconElement.href=newFaviconUrl??this.DEFAULT_FAVICON)}static#_=this.ctorParameters=()=>[]};FaviconService=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg._qm)({providedIn:"root"})],FaviconService);var page_componentngResource=__webpack_require__("./src/app/design/organisms/page/page.component.scss?ngResource"),page_componentngResource_default=__webpack_require__.n(page_componentngResource),common_module_D4mHDfs1=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-D4mHDfs1.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),router_CsukTOog=__webpack_require__("./node_modules/@angular/router/fesm2022/router-CsukTOog.mjs"),ng_bootstrap=__webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/fesm2022/ng-bootstrap.mjs"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),fromEvent=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"),debounceTime=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),screen_service=__webpack_require__("./src/app/_services/screen.service.ts"),swipe_service=__webpack_require__("./src/app/_services/swipe.service.ts"),app_constants=__webpack_require__("./src/app/app.constants.ts"),molecules=__webpack_require__("./src/app/design/molecules/index.ts"),navigation_store=__webpack_require__("./src/app/navigation.store.ts"),rxjs_operators=__webpack_require__("./src/utils/rxjs-operators.ts"),string=__webpack_require__("./src/utils/string.ts"),icon_component=__webpack_require__("./src/app/design/atoms/icon/icon.component.ts"),spinner_component=__webpack_require__("./src/app/design/atoms/spinner/spinner.component.ts");var mobile_header_componentngResource=__webpack_require__("./src/app/design/organisms/mobile-header/mobile-header.component.scss?ngResource"),mobile_header_componentngResource_default=__webpack_require__.n(mobile_header_componentngResource),router_module_DTmwsUYo=__webpack_require__("./node_modules/@angular/router/fesm2022/router_module-DTmwsUYo.mjs"),online_service=__webpack_require__("./src/app/_services/online.service.ts"),button_component=__webpack_require__("./src/app/design/atoms/button/button.component.ts");let MobileHeaderComponent=class MobileHeaderComponent{constructor(){this.currentCampaignIconUrl=core.input.required(),this.title=core.input.required(),this.titleUrl=core.input.required(),this.canShowSidebar=core.input.required(),this.openSidebar=(0,core.output)(),this.serverUrl="",this.online$=(0,root_effect_scheduler_DCy1y1b8.WQX)(online_service.D).online$,this.modalService=(0,root_effect_scheduler_DCy1y1b8.WQX)(ng_bootstrap.Bq)}openModal(content){this.modalService.open(content,{ariaLabelledBy:"modal-title",modalDialogClass:"border border-info border-3 rounded mymodal"})}static#_=this.propDecorators={currentCampaignIconUrl:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"currentCampaignIconUrl",required:!0,transform:void 0}]}],title:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"title",required:!0,transform:void 0}]}],titleUrl:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"titleUrl",required:!0,transform:void 0}]}],canShowSidebar:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canShowSidebar",required:!0,transform:void 0}]}],openSidebar:[{type:debug_node_JnOYh9kg.k7i,args:["openSidebar"]}]}};MobileHeaderComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-mobile-header",imports:[icon_component.R,router_module_DTmwsUYo.Wk,common_module_D4mHDfs1.Jj,ng_bootstrap.n8,button_component.Q],template:'<nav class="navbar bg-dark">\n  <div class="container-fluid">\n    @if (canShowSidebar()) {\n      <button\n        class="navbar-toggler"\n        type="button"\n        data-bs-toggle="offcanvas"\n        data-bs-target="#offcanvasNavbar"\n        aria-controls="sidebar"\n        aria-label="Toggle navigation"\n        (click)="openSidebar.emit()"\n      >\n        <app-icon [icon]="\'bars\'" />\n      </button>\n    }\n    <a class="navbar-brand" [routerLink]="titleUrl()" aria-label="To Home Page">\n      <strong>\n        <img\n          class="navbar-brand-icon"\n          [src]="serverUrl + currentCampaignIconUrl()"\n          alt=""\n        />\n        {{ title() }}\n      </strong>\n    </a>\n\n    @if ((online$ | async) === false) {\n      <button\n        btn\n        aria-label="Toggle offline info modal"\n        [kind]="\'WARNING-OUTLINE\'"\n        [icon]="\'triangle-exclamation\'"\n        (clicked)="openModal(offlineInfoModal)"\n      ></button>\n    }\n  </div>\n</nav>\n\n<ng-template #tooltipContent>\n  <div class="m-0 p-0">You are currently offline</div>\n</ng-template>\n\n<ng-template #offlineInfoModal let-modal>\n  <div class="modal-header">\n    <h5 class="modal-title">You\'re Offline</h5>\n    <button\n      type="button"\n      class="btn-close"\n      aria-label="Close"\n      (click)="modal.dismiss()"\n    ></button>\n  </div>\n  <div class="modal-body">\n    <p>\n      Your device is currently offline. You will still be able to read most\n      content that you can while online, but some limitations apply:\n    </p>\n    <ul class="ps-3">\n      <li>\n        <strong> You can\'t create, update or delete articles. </strong><br />\n        Elements linking to such sites will be hidden.\n      </li>\n      <li><strong> You can\'t upload files such as images </strong></li>\n      <li>\n        <strong> You can\'t search </strong>\n      </li>\n      <li>\n        <strong> You can\'t visit sites requiring online access. </strong><br />\n        Typically this is because their data is too large to download (i.e.\n        Recordings), or their sole purpose is data modification which is\n        unavailable while offline.\n      </li>\n    </ul>\n  </div>\n</ng-template>\n',changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,styles:[mobile_header_componentngResource_default()]})],MobileHeaderComponent);var sidebar_component=__webpack_require__("./src/app/design/organisms/sidebar/sidebar.component.ts");const showSidebarSignal=(0,root_effect_scheduler_DCy1y1b8.vPA)(!0);let PageComponent=class PageComponent{constructor(){this.titleService=(0,root_effect_scheduler_DCy1y1b8.WQX)(FaviconService),this.globalStore=(0,root_effect_scheduler_DCy1y1b8.WQX)(global_store.v),this.sidebarService=(0,root_effect_scheduler_DCy1y1b8.WQX)(ng_bootstrap.RS),this.swipeService=(0,root_effect_scheduler_DCy1y1b8.WQX)(swipe_service.I),this.screenService=(0,root_effect_scheduler_DCy1y1b8.WQX)(screen_service.i),this.routingService=(0,root_effect_scheduler_DCy1y1b8.WQX)(routing_service.O),this.host=(0,root_effect_scheduler_DCy1y1b8.WQX)(debug_node_JnOYh9kg.aKT),this.navStore=(0,root_effect_scheduler_DCy1y1b8.WQX)(navigation_store.A),this.contentId=core.input.required(),this.logout=(0,core.output)(),this.contentElement=core.viewChild.required("content"),this.innerContentElement=core.viewChild.required("innerContent"),this.sidebarTemplate=core.viewChild.required("sidebar"),this.sidebarElement=(0,core.viewChild)("sidebarElement"),this.isMobile$=this.screenService.isMobile$,this.mobileHeaderTitle=(0,resource_BarKSp_3.EW)(()=>{const campaignName=this.globalStore.campaignName();return campaignName?(0,string.ZH)(campaignName):""}),this.isLoading=this.globalStore.isLoadingPage,this.titleContainer=core.viewChild.required("titleContainer"),this.contentScrollEvents$=(0,rxjs_interop.br)(this.innerContentElement).pipe((0,rxjs_operators.u5)(),(0,switchMap.n)(innerContent=>(0,fromEvent.R)(innerContent.nativeElement,"scroll",{passive:!0}))),this.showScrollupIndicator$=this.contentScrollEvents$.pipe((0,debounceTime.B)(100),(0,map.T)(event=>{const scrollTop=event.target?.scrollTop;return(scrollTop??0)>app_constants.MQ})),this.showScrollUpIndicator=(0,root_effect_scheduler_DCy1y1b8.vPA)(!0),this.pageSwipesRight$=this.swipeService.getSwipeEvents(this.host).pipe((0,filter.p)(swipeDistance=>swipeDistance>app_constants.Mw)),this.hasCampaignAdminPrivileges=this.globalStore.canPerformActionsOfRole("admin"),this.showSidebar=(0,root_effect_scheduler_DCy1y1b8.vPA)(!this.screenService.isMobile()),this.canShowSidebar=(0,resource_BarKSp_3.EW)(()=>{const hasCampaign=!!this.globalStore.currentCampaign();return showSidebarSignal()&&hasCampaign}),this.homeUrl=(0,resource_BarKSp_3.EW)(()=>this.routingService.getRoutePath("home",{campaign:this.globalStore.campaignName()})),this.title=(0,resource_BarKSp_3.EW)(()=>this.navStore.currentRoute()?.title),this.campaignBackgroundImage$=(0,rxjs_interop.br)(this.globalStore.currentCampaign).pipe((0,map.T)(campaign=>campaign?.background_image),(0,rxjs_operators.fC)(1e3)),(0,resource_BarKSp_3.QZ)(()=>{const loading=this.isLoading(),titleContainer=this.titleContainer();(0,resource_BarKSp_3.O8)(()=>this.title())&&!loading&&titleContainer&&titleContainer.nativeElement.focus()}),this.pageSwipesRight$.pipe((0,rxjs_interop.pQ)()).subscribe(()=>this.openSidebar()),this.contentScrollEvents$.pipe((0,debounceTime.B)(50),(0,rxjs_interop.pQ)()).subscribe(event=>this.dispatchCustomPageScrollEvent(event))}closeSidebar(){this.screenService.isMobile()&&(this.sidebarService.dismiss(),this.showSidebar.set(!1))}openSidebar(){this.screenService.isMobile()&&this.canShowSidebar()&&(this.sidebarService.open(this.sidebarTemplate(),{ariaLabelledBy:"offcanvas-basic-title"}),this.showSidebar.set(!0))}scrollToTop(){this.innerContentElement().nativeElement.scrollTo({top:0,behavior:"instant"})}dispatchCustomPageScrollEvent(event){const pageScrollEvent=new CustomEvent("page.scroll",{...event,detail:{pageElement:this.innerContentElement()}});this.globalStore.fireScrollEvent(pageScrollEvent)}static#_=this.ctorParameters=()=>[];static#_2=this.propDecorators={contentId:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"contentId",required:!0,transform:void 0}]}],logout:[{type:debug_node_JnOYh9kg.k7i,args:["logout"]}],contentElement:[{type:core.ViewChild,args:["content",{isSignal:!0}]}],innerContentElement:[{type:core.ViewChild,args:["innerContent",{isSignal:!0}]}],sidebarTemplate:[{type:core.ViewChild,args:["sidebar",{isSignal:!0}]}],sidebarElement:[{type:core.ViewChild,args:["sidebarElement",{isSignal:!0}]}],titleContainer:[{type:core.ViewChild,args:["titleContainer",{isSignal:!0}]}]}};PageComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-page",template:'@let campaign = globalStore.currentCampaign();\n@if (campaign) {\n  @defer {\n    <div class="mobile">\n      <app-mobile-header\n        [canShowSidebar]="canShowSidebar()"\n        [title]="mobileHeaderTitle()"\n        [currentCampaignIconUrl]="campaign.icon"\n        [titleUrl]="homeUrl()"\n        (openSidebar)="openSidebar()"\n      ></app-mobile-header>\n    </div>\n  }\n\n  @if (canShowSidebar()) {\n    <div class="desktop">\n      <ng-template *ngTemplateOutlet="sidebar" />\n    </div>\n  }\n}\n\n<div class="page" #content>\n  <div class="page__content">\n    <button\n      class="page__scrollup-indicator"\n      [class.page__scrollup-indicator--visible]="\n        (showScrollupIndicator$ | async) === true\n      "\n      (click)="scrollToTop()"\n      [ngbTooltip]="\'Scroll to top\'"\n      aria-label="Scroll to top"\n    >\n      <app-icon [icon]="\'arrow-up-long\'" />\n    </button>\n    <main\n      #innerContent\n      class="page__main"\n      [id]="contentId()"\n      [attr.aria-busy]="isLoading()"\n    >\n      <div class="cdk-visually-hidden" #titleContainer [tabIndex]="-1">\n        {{ title() }}\n      </div>\n      @if (isLoading()) {\n        <div class="page__loading-container" aria-hidden="true">\n          <app-spinner class="page__loading-spinner"></app-spinner>\n        </div>\n      }\n      <router-outlet #routerOutlet></router-outlet>\n    </main>\n  </div>\n\n  <app-page-background\n    #background\n    class="page__background"\n    [imageUrl]="(campaignBackgroundImage$ | async) ?? undefined"\n  ></app-page-background>\n</div>\n\n<ng-template #sidebar>\n  @defer {\n    <app-sidebar\n      #sidebarElement\n      id="sidebar"\n      class="sidebar"\n      [campaign]="campaign"\n      [hasCampaignAdminPrivileges]="hasCampaignAdminPrivileges()"\n      (logout)="logout.emit()"\n      (closeSidebar)="closeSidebar()"\n      (click)="closeSidebar()"\n    />\n  }\n</ng-template>\n',imports:[sidebar_component.k,molecules.dg,router_CsukTOog.n3,common_module_D4mHDfs1.Jj,common_module_D4mHDfs1.T3,MobileHeaderComponent,icon_component.R,spinner_component.t,ng_bootstrap.md],changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,providers:[ng_bootstrap.RS],styles:[page_componentngResource_default()]})],PageComponent);const page_stories={title:"DesignSystem/Organisms/PageComponent",component:PageComponent,decorators:[(0,dist.Iz)({imports:[testing.c1],providers:[{provide:FaviconService,useValue:{currentPageTitle:()=>"Some Title"}},{provide:routing_service.O,useClass:routing_mock_service.W},global_store.v]})],parameters:{layout:"fullscreen"},args:{serverUrl:"https://www.aldrune.com",user:{accessToken:{token:"abc123",exp:1651345060,type:"access"},refreshToken:{token:"def456",exp:1651345090,type:"refresh"},userId:123,userName:"John Doe",isAdmin:!0,isSuperUser:!1,campaignMemberships:{"Campaign A":"member","Campaign B":"admin"}},campaign:campaign_mock_service.jr}},Default=(args=>({props:{...args}})).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => ({\n  props: {\n    ...args\n  }\n})",...Default.parameters?.docs?.source}}}}}]);