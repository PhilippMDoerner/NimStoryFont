(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[2454],{"./src/app/_services/formly/formly-service.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>FormlyService});var tslib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),src_app_design_organisms_formly_select_disable_formly_select_disable_field_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/design/organisms/formly-select-disable/formly-select-disable-field.component.ts"),src_utils_array__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/array.ts"),src_utils_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/string.ts");let FormlyService=class FormlyService{buildOverviewSelectConfig(config){const options$=config.required??!0?config.options$:this.addEmptyOption(config.options$,config),sortedOptions$=this.sortOptions(options$,config),validators=this.getValidators(config);return{key:config.key,type:"select",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),labelProp:config.labelProp,valueProp:config.valueProp??"pk",options:sortedOptions$,required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildDisableSelectConfig(config){const options$=config.required??!0?config.options$:this.addEmptyOption(config.options$,config),sortedOptions$=this.sortOptions(options$,config),validators=this.getValidators(config);return{key:config.key,type:"select-disable",className:config.className,wrappers:config.wrappers,hideExpression:config.hide??!1,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),labelProp:config.labelProp,valueProp:config.valueProp??"pk",options:sortedOptions$,required:config.required??!0,warningMessage:config.warningMessage,additionalProperties:{disabledExpression:config.disabledExpression,tooltipMessage:config.tooltipMessage??"",showWrapperLabel:config.showWrapperLabel??!0}},validators:{validation:validators}}}buildStaticSelectConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"select",className:config.className,wrappers:config.wrappers,hideExpression:config.hide??!1,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),options:config.options,required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildStaticStringSelectConfig(partialConfig){const options=partialConfig.options.map(str=>({label:str,value:str})),config={...partialConfig,options};return this.buildStaticSelectConfig(config)}buildInputConfig(config){const validators=this.getValidators(config);switch(config.inputKind){case"NUMBER":validators.push("notInteger");break;case"NAME":validators.push("hasSpecialCharacters");break;case"NUMBER_FRACTION":validators.push("notNumber")}let innerInputType;switch(config.inputKind){case"NUMBER":innerInputType="number";break;case"COLOR":innerInputType="color";break;default:innerInputType="string"}return{key:config.key,type:"input",className:config.className,wrappers:config.wrappers,hideExpression:config.hide??!1,parsers:config.parsers,props:{maxLength:config.maxLength,max:config.max,minLength:config.minLength,min:config.min,label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),type:innerInputType,required:config.required??!0,disabled:!!config.disabled,placeholder:config.placeholder??void 0},validators:{validation:validators}}}buildSinglePasswordConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"input",className:config.className,fieldGroupClassName:config.fieldGroupClassName,props:{label:config.label??"Password",type:"password",required:!0,placeholder:"Your password",disabled:config.disabled},validators:{validation:validators}}}buildConfirmedPasswordConfig(config){const validators=config.validators??[];validators.push("required");return{validators:{validation:[{name:"fieldMatch",options:{errorPath:"passwordConfirm"}}]},fieldGroup:[{key:"password",type:"input",className:config.className,props:{label:config.label??"Password",type:"password",required:!0,placeholder:"Password, at least 7 characters",disabled:config.disabled},validators:{validation:validators}},{key:"passwordConfirm",type:"input",className:config.className,props:{label:config.label?"Confirm "+config.label:"Password Confirmation",type:"password",required:!0,placeholder:"Please re-enter your password",disabled:config.disabled}}]}}buildCheckboxConfig(config){return{key:config.key,type:"checkbox",className:config.className,wrappers:config.wrappers,defaultValue:config.defaultValue,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled}}}buildDatepickerConfig(config){const validators=this.getValidators(config);return validators.push("date"),{key:config.key,type:"datepicker",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildFileFieldConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"file",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{buttonType:config.fileButtonType??"SECONDARY",fileFieldKind:config.fileFieldKind??"IMAGE",label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:!!config.disabled},validators:{validation:validators}}}buildEditorConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"text-editor",className:config.className,wrappers:config.wrappers,hideExpression:config.hide,props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled},validators:{validation:validators}}}buildTypeaheadConfig(config){const validators=this.getValidators(config);return{key:config.key,type:"typeahead",className:config.className,wrappers:[...config.wrappers??[],"form-field"],props:{label:config.label??(0,src_utils_string__WEBPACK_IMPORTED_MODULE_1__.ZH)(`${config.key}`),required:config.required??!0,disabled:config.disabled,placeholder:"Type to receive suggestions",additionalProperties:{getOptions:config.getOptions,optionLabelProp:config.optionLabelProp,optionValueProp:config.optionValueProp,initialOption$:config.initialOption$,formatSearchTerm:config.formatSearchTerm}},validators:{validation:validators}}}toUpdateForm(fields){return fields.filter(field=>!("file"===field.type))}getValidators(config){const validators=config.validators??[];return config.required&&validators.push("required"),validators}addEmptyOption(list,config){return Array.isArray(list)?(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)([this.createEmptyOption(config),...list]):list.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.T)(values=>[this.createEmptyOption(config),...values]))}createEmptyOption(config){const emptyOption={};emptyOption[config.labelProp]=src_app_design_organisms_formly_select_disable_formly_select_disable_field_component__WEBPACK_IMPORTED_MODULE_0__.D.EMPTY_OPTION_LABEL;return emptyOption[config.valueProp??config.key]=src_app_design_organisms_formly_select_disable_formly_select_disable_field_component__WEBPACK_IMPORTED_MODULE_0__.D.EMPTY_OPTION_VALUE,emptyOption}sortOptions(list$,config){const{sortProp,sortDirection}=config;return sortProp?list$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.T)(list=>(0,src_utils_array__WEBPACK_IMPORTED_MODULE_4__.Z)(list,sortProp,sortDirection??"asc"))):list$}};FormlyService=(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_6__._qm)({providedIn:"root"})],FormlyService)},"./src/app/design/organisms/image-carousel-card/image-carousel-card.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".form-card {\n  padding: var(--spacer-4);\n  margin: var(--spacer-2);\n}\n.form-card__heading {\n  text-align: center;\n}\n.form-card__image-container {\n  display: flex;\n  justify-content: center;\n  flex-direction: row;\n  width: 100%;\n}\n.form-card__image {\n  max-height: 20rem;\n  max-width: 100%;\n  object-fit: contain;\n}\n.form-card__form {\n  margin-top: var(--spacer-3);\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.confirmation {\n  display: flex;\n  flex-direction: column;\n}\n.confirmation__question {\n  text-align: center;\n}\n.confirmation__button-container {\n  margin-top: var(--spacer-2);\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n.confirmation__button {\n  margin-left: var(--spacer-2);\n  margin-right: var(--spacer-2);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/image-carousel-card/image-carousel-card.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>ImageCarouselCardComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var image_carousel_card_componentngResource=__webpack_require__("./src/app/design/organisms/image-carousel-card/image-carousel-card.component.scss?ngResource"),image_carousel_card_componentngResource_default=__webpack_require__.n(image_carousel_card_componentngResource),common_module_D4mHDfs1=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-D4mHDfs1.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),root_effect_scheduler_DCy1y1b8=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler-DCy1y1b8.mjs"),resource_BarKSp_3=__webpack_require__("./node_modules/@angular/core/fesm2022/resource-BarKSp_3.mjs"),debug_node_JnOYh9kg=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),ng_bootstrap=__webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/fesm2022/ng-bootstrap.mjs"),formly_service_service=__webpack_require__("./src/app/_services/formly/formly-service.service.ts"),button_component=__webpack_require__("./src/app/design/atoms/button/button.component.ts"),icon_component=__webpack_require__("./src/app/design/atoms/icon/icon.component.ts"),spinner_component=__webpack_require__("./src/app/design/atoms/spinner/spinner.component.ts"),molecules=__webpack_require__("./src/app/design/molecules/index.ts"),image_carousel_component=__webpack_require__("./src/app/design/organisms/image-carousel/image-carousel.component.ts");let ImageCarouselCardComponent=class ImageCarouselCardComponent{constructor(formlyService){this.formlyService=formlyService,this.images=core.input.required(),this.serverUrl=core.input.required(),this.serverModel=core.input.required(),this.canUpdate=core.input.required(),this.canCreate=core.input.required(),this.canDelete=core.input.required(),this.createImage=(0,core.output)(),this.deleteImage=(0,core.output)(),this.updateImage=(0,core.output)(),this.currentImageIndex=(0,root_effect_scheduler_DCy1y1b8.vPA)(0),this.currentImage=(0,resource_BarKSp_3.EW)(()=>this.images()[this.currentImageIndex()]),this.state=(0,root_effect_scheduler_DCy1y1b8.vPA)("DISPLAY"),this.userModel=(0,root_effect_scheduler_DCy1y1b8.vPA)({}),this.isLoading=(0,root_effect_scheduler_DCy1y1b8.vPA)(!1),this.createFields=[this.formlyService.buildInputConfig({key:"name",label:"Image Description",required:!0,inputKind:"STRING"}),this.formlyService.buildInputConfig({key:"character_article",label:"Character Article",hide:!0,inputKind:"NUMBER",required:!1}),this.formlyService.buildInputConfig({key:"location_article",label:"Location Article",hide:!0,inputKind:"NUMBER",required:!1}),this.formlyService.buildInputConfig({key:"creature_article",label:"Creature Article",hide:!0,inputKind:"NUMBER",required:!1}),this.formlyService.buildInputConfig({key:"organization_article",label:"Organization Article",hide:!0,inputKind:"NUMBER",required:!1}),this.formlyService.buildInputConfig({key:"encounter_article",label:"Encounter Article",hide:!0,inputKind:"NUMBER",required:!1}),this.formlyService.buildInputConfig({key:"item_article",label:"Item Article",hide:!0,inputKind:"NUMBER",required:!1,placeholder:void 0}),this.formlyService.buildFileFieldConfig({label:"Image file",key:"image",fileButtonType:"DARK"})],this.updateFields=this.formlyService.toUpdateForm(this.createFields)}changeState(event,newState){this.userModel.set(event?{...event}:null),this.state.set(newState)}onSlide(slideEvent){this.currentImageIndex.set(slideEvent.index)}onCancel(){this.changeState(null,"DISPLAY")}onSubmit(){switch(this.state()){case"DELETE":this.deleteImage.emit(this.currentImage());break;case"UPDATE":case"UPDATE_OUTDATED":this.updateImage.emit(this.userModel());break;case"CREATE":this.createImage.emit(this.userModel());break;default:throw`ImageCarouselCard - Submitted form while in state '${this.state}', which is not possible.`}this.userModel.set({}),this.changeState(null,"DISPLAY")}static#_=this.ctorParameters=()=>[{type:formly_service_service.$}];static#_2=this.propDecorators={images:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"images",required:!0,transform:void 0}]}],serverUrl:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"serverUrl",required:!0,transform:void 0}]}],serverModel:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"serverModel",required:!0,transform:void 0}]}],canUpdate:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canUpdate",required:!0,transform:void 0}]}],canCreate:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canCreate",required:!0,transform:void 0}]}],canDelete:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canDelete",required:!0,transform:void 0}]}],createImage:[{type:debug_node_JnOYh9kg.k7i,args:["createImage"]}],deleteImage:[{type:debug_node_JnOYh9kg.k7i,args:["deleteImage"]}],updateImage:[{type:debug_node_JnOYh9kg.k7i,args:["updateImage"]}]}};ImageCarouselCardComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-image-carousel-card",template:'\x3c!-- eslint-disable @angular-eslint/template/interactive-supports-focus --\x3e\n@switch (state()) {\n  @case ("DISPLAY") {\n    <ng-container *ngTemplateOutlet="displayState" />\n  }\n  @case ("UPDATE") {\n    <ng-container *ngTemplateOutlet="updateState" />\n  }\n  @case ("CREATE") {\n    <ng-container *ngTemplateOutlet="createState" />\n  }\n  @case ("DELETE") {\n    <ng-container *ngTemplateOutlet="deleteState" />\n  }\n}\n\n<ng-template #displayState>\n  <app-image-carousel\n    [images]="images()"\n    [serverUrl]="serverUrl()"\n    [canDelete]="canDelete()"\n    [canUpdate]="canUpdate()"\n    [canCreate]="canCreate()"\n    [currentSlideIndex]="currentImageIndex()"\n    (deleteImage)="changeState(currentImage(), \'DELETE\')"\n    (updateImage)="changeState(currentImage(), \'UPDATE\')"\n    (createImage)="changeState({}, \'CREATE\')"\n    (slide)="onSlide($event)"\n  ></app-image-carousel>\n</ng-template>\n\n<ng-template #updateState>\n  <div class="card form-card" (window:keydown.Escape)="onCancel()">\n    <h5 class="form-card__heading">\n      <app-icon [icon]="\'pencil\'"></app-icon>\n      Updating:\n      @if (isLoading()) {\n        <app-spinner />\n      }\n    </h5>\n\n    <div class="form-card__image-container">\n      <img\n        [ngbTooltip]="\'None\'"\n        class="form-card__image"\n        [src]="serverUrl() + currentImage().image"\n        alt=""\n      />\n    </div>\n\n    <app-form\n      class="form-card__form"\n      [model]="userModel()"\n      [fields]="updateFields"\n      [enctype]="\'multipart/form-data\'"\n      [cancelButtonType]="\'DARK\'"\n      (formlySubmit)="onSubmit()"\n      (formlyCancel)="onCancel()"\n    ></app-form>\n  </div>\n</ng-template>\n\n<ng-template #createState>\n  <div class="card form-card" (window:keydown.Escape)="onCancel()">\n    <h5 class="form-card__heading">\n      <app-icon [icon]="\'plus-square\'" />\n      Upload new image\n      @if (isLoading()) {\n        <app-spinner />\n      }\n    </h5>\n\n    <app-form\n      class="form-card__form"\n      [model]="userModel()"\n      [fields]="createFields"\n      [enctype]="\'multipart/form-data\'"\n      [cancelButtonType]="\'DARK\'"\n      (formlySubmit)="onSubmit()"\n      (formlyCancel)="onCancel()"\n    ></app-form>\n  </div>\n</ng-template>\n\n<ng-template #deleteState>\n  <div class="card form-card" (window:keydown.Escape)="onCancel()">\n    <h5 class="form-card__heading">\n      <app-icon [icon]="\'trash\'" />\n      Deleting:\n      @if (isLoading()) {\n        <app-spinner />\n      }\n    </h5>\n\n    <div class="form-card__image-container">\n      <img\n        [ngbTooltip]="\'None\'"\n        class="form-card__image"\n        [src]="serverUrl() + currentImage().image"\n        alt=""\n      />\n    </div>\n\n    <div class="form-card__confirmation confirmation">\n      <span class="confirmation__question">\n        Do you really want to delete this image?\n      </span>\n      <div class="confirmation__button-container">\n        <button\n          btn\n          class="confirmation__button"\n          [kind]="\'DARK\'"\n          [icon]="\'times\'"\n          [text]="\'No\'"\n          (clicked)="onCancel()"\n        ></button>\n        <button\n          btn\n          class="confirmation__button"\n          [kind]="\'DANGER\'"\n          [icon]="\'trash\'"\n          [text]="\'Yes\'"\n          (clicked)="onSubmit()"\n        ></button>\n      </div>\n    </div>\n  </div>\n</ng-template>\n',imports:[image_carousel_component.H,spinner_component.t,icon_component.R,molecules.s2,button_component.Q,common_module_D4mHDfs1.T3,ng_bootstrap.md],changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,styles:[image_carousel_card_componentngResource_default()]})],ImageCarouselCardComponent)},"./src/app/design/organisms/image-carousel/image-carousel.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".image-container img {\n  object-fit: contain;\n  width: 100%;\n  max-height: 10rem;\n}\n@media (min-width: 768px) {\n  .image-container img {\n    max-height: 18rem;\n  }\n}\n\n.image-caption {\n  position: absolute;\n  background: var(--wiki-bg-transparent);\n  width: 50%;\n  text-align: center;\n  bottom: 20%;\n  margin-left: auto;\n  margin-right: auto;\n  left: 0;\n  right: 0;\n}\n.image-caption p {\n  margin: 0;\n}\n\n.edit-image-buttons {\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-content: center;\n  transition: opacity 0.2s;\n  margin-top: var(--spacer-2);\n}\n\n.defaultImage {\n  position: relative;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/image-carousel/image-carousel.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ImageCarouselComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var image_carousel_componentngResource=__webpack_require__("./src/app/design/organisms/image-carousel/image-carousel.component.scss?ngResource"),image_carousel_componentngResource_default=__webpack_require__.n(image_carousel_componentngResource),common_module_D4mHDfs1=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-D4mHDfs1.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),debug_node_JnOYh9kg=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),ng_bootstrap=__webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/fesm2022/ng-bootstrap.mjs"),button_component=__webpack_require__("./src/app/design/atoms/button/button.component.ts");let ImageCarouselComponent=class ImageCarouselComponent{constructor(){this.images=core.input.required(),this.serverUrl=core.input.required(),this.canDelete=(0,core.input)(!1),this.canCreate=(0,core.input)(!1),this.canUpdate=(0,core.input)(!1),this.currentSlideIndex=core.input.required(),this.deleteImage=(0,core.output)(),this.createImage=(0,core.output)(),this.updateImage=(0,core.output)(),this.slide=(0,core.output)(),this.slideEnd=(0,core.output)()}onSlide(event){const slideIndexStr=event.current.split("-").pop();if(null==slideIndexStr)throw`ImageCarousel - Image with id '${event.current}' does not match the expected pattern of 'imageIndex-<number>'!`;const nextSlideIndex=parseInt(slideIndexStr);this.slide.emit({event,index:nextSlideIndex})}onSlideEnd(event){this.slide.emit({event,index:this.currentSlideIndex()})}onImageCreate(){this.canCreate()&&this.createImage.emit()}onImageUpdate(){if(!this.canUpdate())return;const image=this.images()[this.currentSlideIndex()];this.updateImage.emit(image)}onImageDelete(){if(!this.canDelete())return;const image=this.images()[this.currentSlideIndex()];this.deleteImage.emit(image)}static#_=this.propDecorators={images:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"images",required:!0,transform:void 0}]}],serverUrl:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"serverUrl",required:!0,transform:void 0}]}],canDelete:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canDelete",required:!1,transform:void 0}]}],canCreate:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canCreate",required:!1,transform:void 0}]}],canUpdate:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canUpdate",required:!1,transform:void 0}]}],currentSlideIndex:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"currentSlideIndex",required:!0,transform:void 0}]}],deleteImage:[{type:debug_node_JnOYh9kg.k7i,args:["deleteImage"]}],createImage:[{type:debug_node_JnOYh9kg.k7i,args:["createImage"]}],updateImage:[{type:debug_node_JnOYh9kg.k7i,args:["updateImage"]}],slide:[{type:debug_node_JnOYh9kg.k7i,args:["slide"]}],slideEnd:[{type:debug_node_JnOYh9kg.k7i,args:["slideEnd"]}]}};ImageCarouselComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-image-carousel",template:'@if (images() && images().length > 0) {\n  <ngb-carousel\n    #imageCarousel\n    [interval]="0"\n    [showNavigationArrows]="images().length > 1"\n    [showNavigationIndicators]="images().length > 1"\n    [activeId]="\'imageIndex-\' + currentSlideIndex()"\n    (slide)="onSlide($event)"\n    (slid)="onSlideEnd($event)"\n  >\n    @for (image of images(); track image.pk) {\n      <ng-template ngbSlide [id]="\'imageIndex-\' + $index">\n        <div class="image-container" [ngbTooltip]="image.name">\n          <img [src]="serverUrl() + image.image" [alt]="\'Image \' + $index" />\n        </div>\n      </ng-template>\n    }\n  </ngb-carousel>\n} @else {\n  <ng-container *ngTemplateOutlet="defaultImage"></ng-container>\n}\n\n\x3c!-- Image Edit/Delete/Create Buttons --\x3e\n<div class="edit-image-buttons">\n  \x3c!-- Create Image Button --\x3e\n  @if (canCreate()) {\n    <button\n      btn\n      [ngbTooltip]="\'Create Image\'"\n      class="mx-2"\n      aria-label="\'Create Image\'"\n      [kind]="\'PRIMARY\'"\n      [icon]="\'plus-square\'"\n      (clicked)="onImageCreate()"\n    ></button>\n  }\n\n  \x3c!-- Update Image button --\x3e\n  @if (images().length > 0 && canUpdate()) {\n    <button\n      btn\n      aria-label="\'Update Image\'"\n      [ngbTooltip]="\'Update Image\'"\n      class="mx-2"\n      [kind]="\'SECONDARY\'"\n      [icon]="\'pencil\'"\n      (clicked)="onImageUpdate()"\n    ></button>\n  }\n\n  \x3c!-- Delete Image Button --\x3e\n  @if (images().length > 0 && canDelete()) {\n    <button\n      btn\n      aria-label="\'Delete Image\'"\n      [ngbTooltip]="\'Delete Image\'"\n      class="mx-2"\n      [kind]="\'DANGER\'"\n      [icon]="\'trash\'"\n      (clicked)="onImageDelete()"\n    ></button>\n  }\n</div>\n\n<ng-template #defaultImage>\n  <ngb-carousel\n    [showNavigationArrows]="false"\n    [showNavigationIndicators]="false"\n  >\n    <ng-template ngbSlide>\n      <div class="image-container default-image">\n        <img [src]="\'assets/default_images/icon_default.webp\'" alt="" />\n        <div class="image-caption">\n          <p>This article doesn\'t have an image yet</p>\n        </div>\n      </div>\n    </ng-template>\n  </ngb-carousel>\n</ng-template>\n',changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,imports:[ng_bootstrap.wA,ng_bootstrap.md,button_component.Q,common_module_D4mHDfs1.T3],styles:[image_carousel_componentngResource_default()]})],ImageCarouselComponent)},"./src/utils/array.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>sortByProp});const sortByProp=(list,prop,sortDirection="asc",caseSensitive=!1)=>{const newList=[...list];return newList.sort((a,b)=>{const sortValue=(caseSensitive?a[prop]:`${a[prop]}`.toLowerCase())>(caseSensitive?b[prop]:`${b[prop]}`.toLowerCase())?1:-1;return"desc"===sortDirection?-1*sortValue:sortValue}),newList}}}]);