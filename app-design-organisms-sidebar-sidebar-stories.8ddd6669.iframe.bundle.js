(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[5719],{"./src/app/_models/toast.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{oP:()=>httpErrorToast});var src_utils_clipboard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/clipboard.ts");function httpErrorToast(err){if(!("number"===err.status?.constructor?.name.toLowerCase()))throw err;const buttons=500===err.status?[{label:"Copy to Clipboard",icon:"clipboard",onClick:()=>(0,src_utils_clipboard__WEBPACK_IMPORTED_MODULE_0__.l)(err.error)}]:[];return{type:"DANGER",body:{text:`\n        <strong> Please copy the error and send it to the developer: </strong>  <br>\n        ${error=err,JSON.stringify(error.error)}\n      `,buttons},header:{text:getErrorHeading(err)}};var error}function getErrorHeading(error){switch(error.status){case 0:case 504:return"This can't be done without an internet connection";case 200:return"The target URL for the requested action does not seem to exist";case 500:return"The server exploded somehow!";default:return"An error occurred"}}},"./src/app/_services/screen.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>ScreenService});var tslib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler-DCy1y1b8.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js"),_app_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/app.constants.ts");let ScreenService=class ScreenService{constructor(){this.document=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.qQL),this.resizeEvents$=this.document.defaultView?(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.R)(this.document.defaultView,"resize",{passive:!0}).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.B)(500),(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.T)(()=>this.document.defaultView),(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.Z)(this.document.defaultView)):rxjs__WEBPACK_IMPORTED_MODULE_6__.w,this.windowWidth$=this.resizeEvents$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_4__.T)(doc=>doc?.innerWidth)),this.windowHeight$=this.resizeEvents$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_4__.T)(doc=>doc?.innerHeight)),this.isMobile$=this.windowWidth$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_4__.T)(width=>width&&width<=_app_constants__WEBPACK_IMPORTED_MODULE_0__.kJ))}isMobile(){const windowWidth=this.document.defaultView?.innerWidth;return!!windowWidth&&windowWidth<=_app_constants__WEBPACK_IMPORTED_MODULE_0__.kJ}};ScreenService=(0,tslib__WEBPACK_IMPORTED_MODULE_7__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_8__._qm)({providedIn:"root"})],ScreenService)},"./src/app/app.constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MQ:()=>SCROLL_UP_DISTANCE,Mw:()=>SWIPE_X_THRESHOLD,O5:()=>TINYMCE_SETTINGS,ds:()=>SWIPE_Y_THRESHOLD,kJ:()=>MOBILE_WIDTH});const MOBILE_WIDTH=767,SWIPE_X_THRESHOLD=125,SWIPE_Y_THRESHOLD=150,SCROLL_UP_DISTANCE=500,TINYMCE_SETTINGS={plugins:["advlist","autolink","autosave","lists","link","image","charmap","anchor","searchreplace","visualblocks","media","table","help","wordcount"],toolbar:["restoredraft undo redo | formatselect | bold italic underline strikethrough subscript superscript link unlink blockquote | backcolor forecolor hilitecolor fontsizeselect |","alignleft aligncenter alignright | bullist numlist outdent indent | removeformat | table help"],skin:"oxide-dark",content_css:"dark",browser_spellcheck:!0,menubar:!1,height:500,convert_urls:!1,relative_urls:!1,branding:!1,base_url:"/wiki2/tinymce",suffix:".min",highlight_on_focus:!1}},"./src/app/design/atoms/_models/icon.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{bS:()=>toIconKind,eN:()=>ALL_REGULAR_ICONS,xy:()=>ALL_ICONS,zN:()=>ALL_SOLID_ICONS});const ALL_REGULAR_ICONS=["calendar","circle-user","clock","copy","envelope","hourglass","map","plus-square","user"],REGULAR_ICON_SET=new Set(ALL_REGULAR_ICONS),ALL_SOLID_ICONS=["anchor","arrow-down","arrow-down-long","arrow-left-long","arrow-left","arrow-right-long","arrow-right","arrow-rotate-left","arrow-up","arrow-up-long","bars","ban","bolt","book-open","book","calendar-alt","calendar-day","calendar-week","check","chess-rook","chevron-down","chevron-left","chevron-right","chevron-up","circle","circle-exclamation","clipboard","cog","comments","compass","copy","crown","cut","home","database","desktop","diagram-project","diamond","dice","down-long","download","dragon","dungeon","ellipsis-vertical","exclamation","expand","file-arrow-down","file-audio","file-import","file","file-pen","filter","floppy-disk","gear","gavel","globe-americas","hammer","hand-sparkles","hat-wizard","hand-fist","house","handshake","hotel","hourglass-half","infinity","info-circle","info","location-dot","lock","link","list","magic","male","minus","monument","moon","mountain","newspaper","paw","pen","pencil","place-of-worship","plus","question-circle","rectangle-list","redo-alt","refresh","right-from-bracket","search","sign-out-alt","sitemap","spinner","square-check","store","table","tag","th-list","times","tint","trash","tree","triangle-exclamation","umbrella-beach","university","up-long","up-down-left-right","up-right-from-square","upload","user-cog","user-plus","users-gear","volume-up","water","xmark"],SOLID_ICONS_SET=new Set(ALL_SOLID_ICONS),ALL_BRAND_ICONS=["fort-awesome"],BRAND_ICON_SET=new Set(ALL_BRAND_ICONS),ALL_ICONS=[...ALL_REGULAR_ICONS,...ALL_SOLID_ICONS,...ALL_BRAND_ICONS];function toIconKind(icon){const ico=icon;return SOLID_ICONS_SET.has(ico)?"fa-solid":BRAND_ICON_SET.has(ico)?"fa-brands":REGULAR_ICON_SET.has(ico)?"fa-regular":"fa-solid"}},"./src/app/design/atoms/icon/icon.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/atoms/icon/icon.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>IconComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var icon_componentngResource=__webpack_require__("./src/app/design/atoms/icon/icon.component.scss?ngResource"),icon_componentngResource_default=__webpack_require__.n(icon_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),resource_BarKSp_3=__webpack_require__("./node_modules/@angular/core/fesm2022/resource-BarKSp_3.mjs"),debug_node_JnOYh9kg=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),icon=__webpack_require__("./src/app/design/atoms/_models/icon.ts");let IconComponent=class IconComponent{constructor(){this.icon=core.input.required(),this.iconType=(0,resource_BarKSp_3.EW)(()=>(0,icon.bS)(this.icon())),this.classes=(0,resource_BarKSp_3.EW)(()=>this.iconType()?`${this.iconType()} fa-${this.icon()}`:"")}static#_=this.propDecorators={icon:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"icon",required:!0,transform:void 0}]}]}};IconComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-icon",template:"",changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,imports:[],host:{"[class]":"classes()","aria-hidden":"true"},styles:[icon_componentngResource_default()]})],IconComponent)},"./src/app/design/organisms/sidebar/sidebar.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_router_testing__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/router/fesm2022/testing.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),src_app_services_utils_campaign_mock_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/_services/utils/campaign.mock.service.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"DesignSystem/Organisms/SidebarComponent",component:__webpack_require__("./src/app/design/organisms/sidebar/sidebar.component.ts").k,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.Iz)({imports:[_angular_router_testing__WEBPACK_IMPORTED_MODULE_3__.c1],declarations:[],providers:[]})],args:{campaign:src_app_services_utils_campaign_mock_service__WEBPACK_IMPORTED_MODULE_1__.jr}},Default=(args=>({props:{...args}})).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => ({\n  props: {\n    ...args\n  }\n})",...Default.parameters?.docs?.source}}}},"./src/app/design/organisms/toast-overlay/toast.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>ToastService});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler-DCy1y1b8.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/resource-BarKSp_3.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),src_utils_logging__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/logging.ts");let ToastService=class ToastService{constructor(){this.toasts=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.vPA)([]),this.currentToast=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>this.toasts()[0])}addToast(newToast){(0,src_utils_logging__WEBPACK_IMPORTED_MODULE_2__.R)(this.addToast.name,newToast);const toasts=this.toasts();newToast.important?this.toasts.set([newToast,...toasts]):this.toasts.set([...toasts,newToast])}dismissToast(){const[,...newToastList]=this.toasts();this.toasts.set(newToastList)}};ToastService=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__._qm)({providedIn:"root"})],ToastService)},"./src/environments/environment.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>environment});const environment={kind:"PRODUCTION",apiUrl:"/wiki1/api",configUrl:"/wiki1/feature_config.json"}},"./src/utils/DOM.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getFirstFocusableChild(el){return[...el.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')].filter(child=>!child.hasAttribute("disabled"))[0]}__webpack_require__.d(__webpack_exports__,{L:()=>getFirstFocusableChild,n:()=>componentId});let nextId=0;function componentId(){return"app-"+nextId++}},"./src/utils/clipboard.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function copyToClipboard(text){const windowSelection=window.getSelection(),documentSelection=window.getSelection();let userSelectedTextRange;(function userHasElementsSelected(){const selection=document.getSelection();if(null==selection)return!1;return selection?.rangeCount>0})()&&(userSelectedTextRange=documentSelection.getRangeAt(0),windowSelection.removeRange(userSelectedTextRange));const textContainerElement=function createTextContainerElement(text){const textContainerElement=document.createElement("div");textContainerElement.innerHTML=text;const strippedText=textContainerElement.textContent;return textContainerElement.innerHTML=strippedText.replaceAll(">","<br>> ").slice(4),textContainerElement.style.position="absolute",textContainerElement.style.left="-9999px",textContainerElement}(text);document.body.appendChild(textContainerElement);const copyRange=function selectElement(element){const selectedRange=document.createRange();return selectedRange.selectNode(element),window.getSelection()?.addRange(selectedRange),selectedRange}(textContainerElement);!function copyCurrentSelection(){try{document.execCommand("copy")}catch(err){window.alert("Your Browser Doesn't support this! Error : "+err)}}(),windowSelection.removeRange(copyRange),document.body.removeChild(textContainerElement),userSelectedTextRange&&windowSelection.addRange(userSelectedTextRange)}__webpack_require__.d(__webpack_exports__,{l:()=>copyToClipboard})},"./src/utils/rxjs-operators.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{cY:()=>debugLog,fC:()=>delayFalsy,u5:()=>filterNil});var rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/pipe.js"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/delay.js"),src_environments_environment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/environments/environment.ts"),_logging__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/logging.ts");function filterNil(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.p)(x=>null!=x)}const debugLog=debugSymbol=>{const isDevelop="DEVELOPMENT"===src_environments_environment__WEBPACK_IMPORTED_MODULE_0__.c.kind;return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.M)(x=>{isDevelop&&(0,_logging__WEBPACK_IMPORTED_MODULE_3__.R)(debugSymbol,x)})};function delayFalsy(delayByMs=1e3){return(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.F)((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.n)(x=>(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(x).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.c)(x?0:delayByMs))))}},"./src/utils/store/withQueries/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>withQueries});var ngrx_operators=__webpack_require__("./node_modules/@ngrx/operators/fesm2022/ngrx-operators.mjs"),ngrx_signals=__webpack_require__("./node_modules/@ngrx/signals/fesm2022/ngrx-signals.mjs"),ngrx_signals_rxjs_interop=__webpack_require__("./node_modules/@ngrx/signals/fesm2022/ngrx-signals-rxjs-interop.mjs"),pipe=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/pipe.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),string=__webpack_require__("./src/utils/string.ts");function getKeys(name){return{name,dataField:(0,string.YF)(name),errorField:`${(0,string.YF)(name)}Error`,queryStateField:`${(0,string.YF)(name)}QueryState`,loadMethod:`load${(0,string.ZH)(name)}`}}function withQueries(queriesFactory){return store=>{const queries=queriesFactory({...store.stateSignals,...store.props,...store.methods}),storeWithState=function withQueriesState(queries){return(0,ngrx_signals.Mj)((0,ngrx_signals.Q2)(()=>Object.keys(queries).map(queryName=>getKeys(queryName)).map(keys=>({[keys.dataField]:void 0,[keys.errorField]:void 0,[keys.queryStateField]:"init"})).reduce((acc,RequestState)=>({...acc,...RequestState}),{})))}(queries)(store);return function withQueryMethods(queries){return(0,ngrx_signals.Mj)((0,ngrx_signals.RI)(store=>Object.keys(queries).map(queryName=>getKeys(queryName)).map(keys=>({[keys.loadMethod]:(0,ngrx_signals_rxjs_interop.o)((0,pipe.F)((0,tap.M)(()=>(0,ngrx_signals.M8)(store,{[keys.queryStateField]:"loading",[keys.errorField]:void 0})),(0,switchMap.n)(params=>queries[keys.name](params)),(0,ngrx_operators.Hn)({next:val=>(0,ngrx_signals.M8)(store,{[keys.dataField]:val,[keys.queryStateField]:"success"}),error:err=>{(0,ngrx_signals.M8)(store,{[keys.errorField]:err,[keys.queryStateField]:"error"})}})))})).reduce((acc,queryLoadFunction)=>({...acc,...queryLoadFunction}),{})))}(queries)(storeWithState)}}}}]);