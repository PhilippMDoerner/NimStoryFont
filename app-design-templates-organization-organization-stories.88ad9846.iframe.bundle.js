(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[3605],{"./node_modules/rxjs/dist/esm5/internal/operators/bufferCount.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>bufferCount});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_arrRemove__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/arrRemove.js");function bufferCount(bufferSize,startBufferEvery){return void 0===startBufferEvery&&(startBufferEvery=null),startBufferEvery=null!=startBufferEvery?startBufferEvery:bufferSize,(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.N)(function(source,subscriber){var buffers=[],count=0;source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__._)(subscriber,function(value){var e_1,_a,e_2,_b,toEmit=null;count++%startBufferEvery===0&&buffers.push([]);try{for(var buffers_1=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Ju)(buffers),buffers_1_1=buffers_1.next();!buffers_1_1.done;buffers_1_1=buffers_1.next()){(buffer=buffers_1_1.value).push(value),bufferSize<=buffer.length&&(toEmit=null!=toEmit?toEmit:[]).push(buffer)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{buffers_1_1&&!buffers_1_1.done&&(_a=buffers_1.return)&&_a.call(buffers_1)}finally{if(e_1)throw e_1.error}}if(toEmit)try{for(var toEmit_1=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Ju)(toEmit),toEmit_1_1=toEmit_1.next();!toEmit_1_1.done;toEmit_1_1=toEmit_1.next()){var buffer=toEmit_1_1.value;(0,_util_arrRemove__WEBPACK_IMPORTED_MODULE_3__.o)(buffers,buffer),subscriber.next(buffer)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{toEmit_1_1&&!toEmit_1_1.done&&(_b=toEmit_1.return)&&_b.call(toEmit_1)}finally{if(e_2)throw e_2.error}}},function(){var e_3,_a;try{for(var buffers_2=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Ju)(buffers),buffers_2_1=buffers_2.next();!buffers_2_1.done;buffers_2_1=buffers_2.next()){var buffer=buffers_2_1.value;subscriber.next(buffer)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{buffers_2_1&&!buffers_2_1.done&&(_a=buffers_2.return)&&_a.call(buffers_2)}finally{if(e_3)throw e_3.error}}subscriber.complete()},void 0,function(){buffers=null}))})}},"./node_modules/rxjs/dist/esm5/internal/operators/repeat.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>repeat});var _observable_empty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js"),_util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_observable_timer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js");function repeat(countOrConfig){var _a,delay,count=1/0;return null!=countOrConfig&&("object"==typeof countOrConfig?(_a=countOrConfig.count,count=void 0===_a?1/0:_a,delay=countOrConfig.delay):count=countOrConfig),count<=0?function(){return _observable_empty__WEBPACK_IMPORTED_MODULE_0__.w}:(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)(function(source,subscriber){var sourceSub,soFar=0,resubscribe=function(){if(null==sourceSub||sourceSub.unsubscribe(),sourceSub=null,null!=delay){var notifier="number"==typeof delay?(0,_observable_timer__WEBPACK_IMPORTED_MODULE_2__.O)(delay):(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_3__.Tg)(delay(soFar)),notifierSubscriber_1=(0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_4__._)(subscriber,function(){notifierSubscriber_1.unsubscribe(),subscribeToSource()});notifier.subscribe(notifierSubscriber_1)}else subscribeToSource()},subscribeToSource=function(){var syncUnsub=!1;sourceSub=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_4__._)(subscriber,void 0,function(){++soFar<count?sourceSub?resubscribe():syncUnsub=!0:subscriber.complete()})),syncUnsub&&resubscribe()};subscribeToSource()})}},"./node_modules/rxjs/dist/esm5/internal/operators/retry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>retry});var _util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_identity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/identity.js"),_observable_timer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");function retry(configOrCount){var config;void 0===configOrCount&&(configOrCount=1/0);var _a=(config=configOrCount&&"object"==typeof configOrCount?configOrCount:{count:configOrCount}).count,count=void 0===_a?1/0:_a,delay=config.delay,_b=config.resetOnSuccess,resetOnSuccess=void 0!==_b&&_b;return count<=0?_util_identity__WEBPACK_IMPORTED_MODULE_0__.D:(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)(function(source,subscriber){var innerSub,soFar=0,subscribeForRetry=function(){var syncUnsub=!1;innerSub=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,function(value){resetOnSuccess&&(soFar=0),subscriber.next(value)},void 0,function(err){if(soFar++<count){var resub_1=function(){innerSub?(innerSub.unsubscribe(),innerSub=null,subscribeForRetry()):syncUnsub=!0};if(null!=delay){var notifier="number"==typeof delay?(0,_observable_timer__WEBPACK_IMPORTED_MODULE_3__.O)(delay):(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_4__.Tg)(delay(err,soFar)),notifierSubscriber_1=(0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,function(){notifierSubscriber_1.unsubscribe(),resub_1()},function(){subscriber.complete()});notifier.subscribe(notifierSubscriber_1)}else resub_1()}else subscriber.error(err)})),syncUnsub&&(innerSub.unsubscribe(),innerSub=null,subscribeForRetry())};subscribeForRetry()})}},"./node_modules/rxjs/dist/esm5/internal/operators/timeout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>timeout});var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),_util_isDate__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isDate.js"),_util_lift__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_util_createErrorClass__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_executeSchedule__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js"),TimeoutError=(0,_util_createErrorClass__WEBPACK_IMPORTED_MODULE_0__.L)(function(_super){return function TimeoutErrorImpl(info){void 0===info&&(info=null),_super(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=info}});function timeout(config,schedulerArg){var _a=(0,_util_isDate__WEBPACK_IMPORTED_MODULE_1__.v)(config)?{first:config}:"number"==typeof config?{each:config}:config,first=_a.first,each=_a.each,_b=_a.with,_with=void 0===_b?timeoutErrorFactory:_b,_c=_a.scheduler,scheduler=void 0===_c?null!=schedulerArg?schedulerArg:_scheduler_async__WEBPACK_IMPORTED_MODULE_2__.E:_c,_d=_a.meta,meta=void 0===_d?null:_d;if(null==first&&null==each)throw new TypeError("No timeout provided.");return(0,_util_lift__WEBPACK_IMPORTED_MODULE_3__.N)(function(source,subscriber){var originalSourceSubscription,timerSubscription,lastValue=null,seen=0,startTimer=function(delay){timerSubscription=(0,_util_executeSchedule__WEBPACK_IMPORTED_MODULE_4__.N)(subscriber,scheduler,function(){try{originalSourceSubscription.unsubscribe(),(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__.Tg)(_with({meta,lastValue,seen})).subscribe(subscriber)}catch(err){subscriber.error(err)}},delay)};originalSourceSubscription=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_6__._)(subscriber,function(value){null==timerSubscription||timerSubscription.unsubscribe(),seen++,subscriber.next(lastValue=value),each>0&&startTimer(each)},void 0,void 0,function(){(null==timerSubscription?void 0:timerSubscription.closed)||null==timerSubscription||timerSubscription.unsubscribe(),lastValue=null})),!seen&&startTimer(null!=first?"number"==typeof first?first:+first-scheduler.now():each)})}function timeoutErrorFactory(info){throw new TimeoutError(info)}},"./src/app/_services/formly/validators.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Dq:()=>fieldsDontMatchMessage,EC:()=>timeValidator,N8:()=>dateValidator,Nd:()=>faPrefixMessage,Ou:()=>dateMessage,Oy:()=>requiredIconMessage,Z5:()=>specialCharacterValidator,cC:()=>iconValidator,d:()=>hasSpecialCharactersMessage,h9:()=>requiredMessage,iR:()=>numberValidator,jp:()=>integerValidator,k1:()=>sessionAlreadyHasAuthor,kO:()=>fieldMatchValidator,lk:()=>requiredIconValidator,tu:()=>notNumberMesage,wh:()=>invalidTimeMessage,yt:()=>requiredValidator,zG:()=>notIntegerMessage});const invalidTimeMessage={name:"time",message:"Time must have 'hh:mm:ss' pattern"},requiredMessage={name:"required",message:"This field is required!"},dateMessage={name:"date",message:"This date does not follow the pattern: 'YYYY-MM-DD'. Sorry to be such a Nazi about it. The computer is forcing me."},requiredIconMessage={name:"requiredIcon",message:"This field requires a fontawesome icon as input. Here is a list of them: https://fontawesome.com/v4.7.0/icons/"},faPrefixMessage={name:"faPrefix",message:"Icons are stored without the 'fa-' from font-awesome prefix"},notIntegerMessage={name:"notInteger",message:"Your input is not an integer. This field requires an integer number. No amount of revolution can overcome this."},notNumberMesage={name:"notNumber",message:"Your input is not a number."},hasSpecialCharactersMessage={name:"hasSpecialCharacters",message:'Your input includes one of the following invalid special characters: [ ] ( ) ? | \\ " % ~ # < > :. If you need to rebel, please dont against this.'},fieldsDontMatchMessage={name:"fieldMatch",message:"Password Not Matching"},sessionAlreadyHasAuthor={name:"isInvalidSessionAuthorPair",message:"\n    The author you selected already has a diaryentry in the session you selected. You\n    can't have 2 diaryentries from the same author in the same session. Consider writing\n    your diaryentry as an encounter instead into the diaryentry at the spot you just considered."};const timeValidator={name:"time",validation:function timeValidation(control){const isValidTime=/\d\d.[0-5]\d.[0-5]\d/.test(control.value);return isValidTime?null:{time:!isValidTime}}};function requiredValidation(control){return!!control.value||0===control.value?null:{required:!0}}const requiredValidator={name:"required",validation:requiredValidation},requiredIconValidator={name:"requiredIcon",validation:requiredValidation};const dateValidator={name:"date",validation:function dateValidation(control){return/[1-2]\d{3}-(0\d|1[0-2])-[0-3]\d/.test(control.value)?null:{date:!0}}};const iconValidator={name:"faPrefix",validation:function iconValidation(control){const hasFaPrefix=/fa-/.test(control.value),hasFasPrefix=/fas-/.test(control.value),isValidIcon=hasFaPrefix||hasFasPrefix;return isValidIcon?null:{faPrefix:isValidIcon}}};const integerValidator={name:"notInteger",validation:function isIntegerValidation(control){if(null==control.value)return null;const isInteger="number"==typeof control.value&&Number.isInteger(control.value);return isInteger?null:{notInteger:!isInteger}}};const numberValidator={name:"notNumber",validation:function isNumberValidation(control){const isNumberType="number"==typeof control.value,isNumberString="string"==typeof control.value&&!isNaN(parseInt(control.value)),isNumber=isNumberType||isNumberString;return isNumber?null:{notNumber:!isNumber}}};const specialCharacterValidator={name:"hasSpecialCharacters",validation:function hasNoSpecialCharactersValidation(control){if("string"==typeof control.value){const specialCharacters=["[","]","(",")","|","\\",'"',"%","~","#","<",">","?","/",":"];for(const specialCharacter of specialCharacters)if(control.value.includes(specialCharacter))return{hasSpecialCharacters:!0}}return null}};const fieldMatchValidator={name:"fieldMatch",validation:function passwordMatchValidation(control){const{password,passwordConfirm}=control.value;return passwordConfirm&&password&&passwordConfirm===password?null:{fieldMatch:!0}}}},"./src/app/design/atoms/info-circle-tooltip/info-circle-tooltip.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/atoms/info-circle-tooltip/info-circle-tooltip.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>InfoCircleTooltipComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var info_circle_tooltip_componentngResource=__webpack_require__("./src/app/design/atoms/info-circle-tooltip/info-circle-tooltip.component.scss?ngResource"),info_circle_tooltip_componentngResource_default=__webpack_require__.n(info_circle_tooltip_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),resource_BarKSp_3=__webpack_require__("./node_modules/@angular/core/fesm2022/resource-BarKSp_3.mjs"),debug_node_JnOYh9kg=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),ng_bootstrap=__webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/fesm2022/ng-bootstrap.mjs"),icon_component=__webpack_require__("./src/app/design/atoms/icon/icon.component.ts");let InfoCircleTooltipComponent=class InfoCircleTooltipComponent{constructor(){this.tooltip=core.input.required(),this.text=core.input.required(),this.placement=(0,core.input)("top"),this.tooltipKind=(0,resource_BarKSp_3.EW)(()=>this.tooltip()instanceof debug_node_JnOYh9kg.C4Q?"custom":"text")}static#_=this.propDecorators={tooltip:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"tooltip",required:!0,transform:void 0}]}],text:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"text",required:!0,transform:void 0}]}],placement:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"placement",required:!1,transform:void 0}]}]}};InfoCircleTooltipComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-info-circle-tooltip",template:'<strong\n  [placement]="placement()"\n  [ngbTooltip]="tooltipKind() === \'text\' ? tooltipContent : tooltip()"\n  [tooltipClass]="\'my-tooltip\'"\n  class="pointer"\n>\n  {{ text() }}\n  <app-icon class="mx-1" [icon]="\'info-circle\'"></app-icon>\n</strong>\n\n<ng-template #tooltipContent>\n  <div class="m-0 p-0">\n    {{ tooltip() }}\n  </div>\n</ng-template>\n',changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,imports:[icon_component.R,ng_bootstrap.md],styles:[info_circle_tooltip_componentngResource_default()]})],InfoCircleTooltipComponent)},"./src/app/design/organisms/formly-select-disable/formly-select-disable-field.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".warning {\n  color: var(--lightest-red);\n  font-size: 80%;\n}\n\napp-spinner {\n  --thickness: 30px;\n}\n\n.field {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/formly-select-disable/formly-select-disable-field.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>FormlySelectDisableFieldComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var formly_select_disable_field_componentngResource=__webpack_require__("./src/app/design/organisms/formly-select-disable/formly-select-disable-field.component.scss?ngResource"),formly_select_disable_field_componentngResource_default=__webpack_require__.n(formly_select_disable_field_componentngResource),common_module_D4mHDfs1=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-D4mHDfs1.mjs"),root_effect_scheduler_DCy1y1b8=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler-DCy1y1b8.mjs"),debug_node_JnOYh9kg=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),ngx_formly_bootstrap_form_field=__webpack_require__("./node_modules/@ngx-formly/bootstrap/fesm2020/ngx-formly-bootstrap-form-field.mjs"),ngx_formly_core=__webpack_require__("./node_modules/@ngx-formly/core/fesm2020/ngx-formly-core.mjs"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),info_circle_tooltip_component=__webpack_require__("./src/app/design/atoms/info-circle-tooltip/info-circle-tooltip.component.ts");let FormlySelectDisableFieldComponent=class FormlySelectDisableFieldComponent extends ngx_formly_bootstrap_form_field.P{constructor(){super(...arguments),this.modelValue=(0,root_effect_scheduler_DCy1y1b8.vPA)(void 0)}static#_=this.EMPTY_OPTION_LABEL="------";static#_2=this.EMPTY_OPTION_VALUE=null;ngOnInit(){const templateOptions={props:this.props},formControl=this.formControl,model=this.model,options$=this.props.options;if(!(options$ instanceof Observable.c))throw"InvalidSelectOptionsException. You tried to create a FormlySelectDisableComponent - field, but provided an option that wasn't an Observable!";const isOptionDisabled$=(0,this.props.additionalProperties.disabledExpression)(options$,templateOptions,formControl,model);this.selectOptions$=(0,combineLatest.z)({options:options$,isDisabledList:isOptionDisabled$}).pipe((0,map.T)(({options,isDisabledList})=>options.map((opt,index)=>({value:opt,enabled:!isDisabledList[index]})))),this.setModelValue()}ngOnChanges(){this.setModelValue()}setModelValue(){const key=this.key,model=this.field.model;this.modelValue.set(model[key])}};FormlySelectDisableFieldComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-formly-select-disable",template:'<div class="field mb-3 {{ field.className }}" [class.d-none]="to.hidden">\n  <label class="form-label" [for]="\'formly_disable_select_\' + props.label">\n    <app-info-circle-tooltip\n      [text]="props.label + (props.required ? \'*\' : \'\')"\n      [tooltip]="props[\'additionalProperties\'][\'tooltipMessage\']"\n    ></app-info-circle-tooltip>\n  </label>\n\n  @let selectOptions = selectOptions$ | async;\n  @if (selectOptions) {\n    <select\n      class="form-select"\n      [name]="\'formly_disable_select_\' + props.label"\n      [id]="\'formly_disable_select_\' + props.label"\n      [required]="!!props.required"\n      [formControl]="formControl"\n      [formlyAttributes]="field"\n    >\n      @for (entry of selectOptions; track entry) {\n        <option\n          [ngValue]="entry.value[props[\'valueProp\']]"\n          [disabled]="!entry.enabled"\n          [selected]="entry.value[props[\'valueProp\']] === modelValue()"\n        >\n          {{ entry.value[props["labelProp"]] }}\n        </option>\n      }\n    </select>\n  }\n</div>\n',imports:[info_circle_tooltip_component.$,fesm2022_forms.X1,ngx_formly_core.qy,common_module_D4mHDfs1.Jj],changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,styles:[formly_select_disable_field_componentngResource_default()]})],FormlySelectDisableFieldComponent)},"./src/app/design/templates/organization/organization.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".organization__edit-container {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n}\n.organization__heading {\n  text-align: center;\n}\n.organization__subheading {\n  text-align: center;\n}\n.organization__members {\n  margin-bottom: var(--spacer-3);\n}\n.organization__images {\n  margin-top: var(--spacer-3);\n  margin-bottom: var(--spacer-3);\n}\n.organization__description {\n  width: 100%;\n  margin-bottom: var(--spacer-5);\n}\n\n.subheading__icon {\n  margin-left: var(--spacer-1);\n  margin-right: var(--spacer-1);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/templates/organization/organization.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,NoPermission:()=>NoPermission,__namedExportsOrder:()=>__namedExportsOrder,default:()=>organization_stories});var animations=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),testing=__webpack_require__("./node_modules/@angular/router/fesm2022/testing.mjs"),ngx_formly_core=__webpack_require__("./node_modules/@ngx-formly/core/fesm2020/ngx-formly-core.mjs"),external_STORYBOOK_MODULE_ACTIONS_=__webpack_require__("storybook/actions"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),validators=__webpack_require__("./src/app/_services/formly/validators.ts"),molecules=__webpack_require__("./src/app/design/molecules/index.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var organization_componentngResource=__webpack_require__("./src/app/design/templates/organization/organization.component.scss?ngResource"),organization_componentngResource_default=__webpack_require__.n(organization_componentngResource),common_module_D4mHDfs1=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-D4mHDfs1.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),resource_BarKSp_3=__webpack_require__("./node_modules/@angular/core/fesm2022/resource-BarKSp_3.mjs"),debug_node_JnOYh9kg=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node-JnOYh9kg.mjs"),router_module_DTmwsUYo=__webpack_require__("./node_modules/@angular/router/fesm2022/router_module-DTmwsUYo.mjs"),routing_service=__webpack_require__("./src/app/_services/routing.service.ts"),array=__webpack_require__("./src/utils/array.ts"),article_context_menu_component=__webpack_require__("./src/app/design/molecules/article-context-menu/article-context-menu.component.ts"),article_footer_component=__webpack_require__("./src/app/design/molecules/article-footer/article-footer.component.ts"),badge_list_component=__webpack_require__("./src/app/design/molecules/badge-list/badge-list.component.ts"),editable_text_component=__webpack_require__("./src/app/design/organisms/editable-text/editable-text.component.ts"),image_carousel_card_component=__webpack_require__("./src/app/design/organisms/image-carousel-card/image-carousel-card.component.ts"),page_container_component=__webpack_require__("./src/app/design/organisms/page-container/page-container.component.ts");let OrganizationComponent=class OrganizationComponent{constructor(routingService){this.routingService=routingService,this.organization=core.input.required(),this.organizationServerModel=core.input.required(),this.serverUrl=core.input.required(),this.imageServerModel=core.input.required(),this.campaignCharacters=core.input.required(),this.canUpdate=core.input.required(),this.canCreate=core.input.required(),this.canDelete=core.input.required(),this.createImage=(0,core.output)(),this.deleteImage=(0,core.output)(),this.updateImage=(0,core.output)(),this.organizationDelete=(0,core.output)(),this.organizationUpdate=(0,core.output)(),this.organizationMembershipCreate=(0,core.output)(),this.organizationMembershipDelete=(0,core.output)(),this.overviewUrl=(0,resource_BarKSp_3.EW)(()=>{const campaignName=this.organization().campaign_details?.name;return this.routingService.getRoutePath("organization-overview",{campaign:campaignName})}),this.updateUrl=(0,resource_BarKSp_3.EW)(()=>{const campaignName=this.organization().campaign_details?.name;return this.routingService.getRoutePath("organization-update",{campaign:campaignName,name:this.organization().name})}),this.organizationMembers=(0,resource_BarKSp_3.EW)(()=>{const badgeEntries=this.organization().members?.map(member=>({badgeValue:member,text:member.name,link:this.routingService.getRoutePath("character",{campaign:this.organization().campaign_details?.name,name:member.name})}))??[];return(0,array.Z)(badgeEntries,"text")}),this.headquarterUrl=(0,resource_BarKSp_3.EW)(()=>{const campaignName=this.organization().campaign_details?.name;return this.routingService.getRoutePath("location",{campaign:campaignName,name:this.organization().headquarter_details?.name,parent_name:this.organization().headquarter_details?.parent_name})}),this.leaderUrl=(0,resource_BarKSp_3.EW)(()=>{const campaignName=this.organization().campaign_details?.name;return this.routingService.getRoutePath("character",{campaign:campaignName,name:this.organization().leader})})}onDescriptionUpdate(description){const itemToUpdate=void 0!==this.organizationServerModel()?this.organizationServerModel():this.organization();itemToUpdate&&this.organizationUpdate.emit({...itemToUpdate,description})}deleteMembership(member){this.organizationMembershipDelete.emit(member)}static#_=this.ctorParameters=()=>[{type:routing_service.O}];static#_2=this.propDecorators={organization:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"organization",required:!0,transform:void 0}]}],organizationServerModel:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"organizationServerModel",required:!0,transform:void 0}]}],serverUrl:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"serverUrl",required:!0,transform:void 0}]}],imageServerModel:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"imageServerModel",required:!0,transform:void 0}]}],campaignCharacters:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"campaignCharacters",required:!0,transform:void 0}]}],canUpdate:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canUpdate",required:!0,transform:void 0}]}],canCreate:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canCreate",required:!0,transform:void 0}]}],canDelete:[{type:debug_node_JnOYh9kg.pde,args:[{isSignal:!0,alias:"canDelete",required:!0,transform:void 0}]}],createImage:[{type:debug_node_JnOYh9kg.k7i,args:["createImage"]}],deleteImage:[{type:debug_node_JnOYh9kg.k7i,args:["deleteImage"]}],updateImage:[{type:debug_node_JnOYh9kg.k7i,args:["updateImage"]}],organizationDelete:[{type:debug_node_JnOYh9kg.k7i,args:["organizationDelete"]}],organizationUpdate:[{type:debug_node_JnOYh9kg.k7i,args:["organizationUpdate"]}],organizationMembershipCreate:[{type:debug_node_JnOYh9kg.k7i,args:["organizationMembershipCreate"]}],organizationMembershipDelete:[{type:debug_node_JnOYh9kg.k7i,args:["organizationMembershipDelete"]}]}};OrganizationComponent=(0,tslib_es6.Cg)([(0,debug_node_JnOYh9kg.uAl)({selector:"app-organization",template:'<app-page-container>\n  <article class="container">\n    <app-article-context-menu\n      class="organization__edit-container"\n      [editEntry]="\n        canUpdate()\n          ? {\n              kind: \'LINK\',\n              link: updateUrl(),\n              label: \'Edit \' + organization().name,\n            }\n          : undefined\n      "\n      [deleteLabel]="canDelete() ? \'Delete \' + organization().name : undefined"\n      (deleteConfirmed)="organizationDelete.emit(organization())"\n    />\n\n    \x3c!-- Heading --\x3e\n    <div class="row">\n      <h1 class="col-12 organization__heading">\n        {{ organization().name }}\n      </h1>\n      \x3c!-- Leader-Subheading --\x3e\n      <div class="col-12 organization__subheading">\n        Leader:\n        @if (organization().leader) {\n          <strong>\n            <a class="ms-1" [routerLink]="leaderUrl()">\n              {{ organization().leader }}\n            </a>\n          </strong>\n        } @else {\n          <ng-container *ngTemplateOutlet="Unknown" />\n        }\n      </div>\n\n      \x3c!-- Headquarters Subheading --\x3e\n      <div class="col-12 organization__subheading">\n        Headquarters:\n        @if (organization().headquarter_details) {\n          <strong>\n            <a class="ms-1" [routerLink]="headquarterUrl()">\n              {{ organization().headquarter_details?.name_full }}\n            </a>\n          </strong>\n        } @else {\n          <ng-container *ngTemplateOutlet="Unknown" />\n        }\n      </div>\n    </div>\n\n    \x3c!-- Image Gallery --\x3e\n    <div class="organization__images">\n      <app-image-carousel-card\n        [images]="organization().images ?? []"\n        [serverUrl]="serverUrl()"\n        [serverModel]="imageServerModel()"\n        [canUpdate]="canUpdate()"\n        [canCreate]="canCreate()"\n        [canDelete]="canDelete()"\n        (createImage)="createImage.emit($event)"\n        (deleteImage)="deleteImage.emit($event)"\n        (updateImage)="updateImage.emit($event)"\n      ></app-image-carousel-card>\n    </div>\n\n    <div class="organization__members">\n      <app-badge-list\n        [canCreate]="canCreate()"\n        [canDelete]="canDelete()"\n        [label]="\'Members\'"\n        [entries]="organizationMembers()"\n        [createOptions]="{\n          kind: \'SELECT\',\n          formFieldLabel: \'Characters\',\n          config: {\n            options: campaignCharacters() ?? [],\n            labelProp: \'name\',\n            valueProp: \'pk\',\n          },\n        }"\n        (entryCreate)="organizationMembershipCreate.emit($event)"\n        (entryDelete)="organizationMembershipDelete.emit($event)"\n      ></app-badge-list>\n    </div>\n\n    \x3c!-- Description --\x3e\n    <app-editable-text\n      class="organization__description"\n      [heading]="\'Description\'"\n      [ariaLevel]="2"\n      [placeholder]="\'Add a description for \' + organization().name"\n      [text]="organization().description"\n      [canUpdate]="canUpdate()"\n      (update)="onDescriptionUpdate($event)"\n    ></app-editable-text>\n\n    \x3c!-- Footer (Move to other Article + Delete Article) --\x3e\n    <app-article-footer\n      [buttonLink]="overviewUrl()"\n      [buttonLabel]="\'Back to Organizations\'"\n    />\n  </article>\n</app-page-container>\n\n<ng-template #Unknown>Unknown</ng-template>\n',imports:[page_container_component.i,router_module_DTmwsUYo.Wk,common_module_D4mHDfs1.T3,image_carousel_card_component.r,editable_text_component.T,article_footer_component.D,badge_list_component.p,article_context_menu_component.O],changeDetection:debug_node_JnOYh9kg.Ngq.OnPush,styles:[organization_componentngResource_default()]})],OrganizationComponent);const organization_stories={title:"DesignSystem/Templates/OrganizationComponent",component:OrganizationComponent,decorators:[(0,dist.Iz)({imports:[testing.c1,animations.BrowserAnimationsModule,ngx_formly_core.qy.forRoot({types:[{name:"file",component:molecules.JS,wrappers:["form-field"]}],validationMessages:[validators.h9,validators.zG],validators:[validators.yt,validators.jp]})],declarations:[]})],args:{imageServerModel:void 0,canCreate:!0,canUpdate:!0,canDelete:!0,organization:{pk:123,name:"Order of the Silver Lance",description:"A knightly order dedicated to protecting the innocent.",leader:"Sir Cedric",headquarter:456,headquarter_details:{name:"Castle Silverkeep",parent_name:"Kingdom of Arathia",pk:456,name_full:"Castle Silverkeep, Kingdom of Arathia"},members:[{name:"Sir Cedric",membership_id:1,pk:789,alive:!0,organization_id:123,role:"Grandmaster"},{name:"Lady Elspeth",membership_id:2,pk:790,alive:!0,organization_id:123,role:"Commander"},{name:"Sir Richard",membership_id:3,pk:791,alive:!1,organization_id:123,role:"Knight"}],images:[{pk:234,image:"/breeds/mastiff-tibetan/n02108551_5830.jpg",name:"Order Emblem",organization_article:123,article_type:"Organization"},{pk:235,image:"/breeds/mastiff-tibetan/n02108551_5830.jpg",name:"Order Emblem",organization_article:123,article_type:"Organization"}],campaign:1,campaign_details:{id:1,name:"Campaign of Adventures"},creation_datetime:"2022-04-01T12:00:00Z",update_datetime:"2022-04-03T09:30:00Z",getAbsoluteRouterUrl:()=>"https://example.com/organizations/123"},serverUrl:"https://images.dog.ceo"}},Template=args=>({props:{...args,createImage:(0,external_STORYBOOK_MODULE_ACTIONS_.action)("createImage"),deleteImage:(0,external_STORYBOOK_MODULE_ACTIONS_.action)("deleteImage"),updateImage:(0,external_STORYBOOK_MODULE_ACTIONS_.action)("updateImage"),organizationDelete:(0,external_STORYBOOK_MODULE_ACTIONS_.action)("organizationDelete")}}),Default=Template.bind({});Default.args={};const NoPermission=Template.bind({});NoPermission.args={canDelete:!1,canUpdate:!1,canCreate:!1};const __namedExportsOrder=["Default","NoPermission"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => ({\n  props: {\n    ...args,\n    createImage: action('createImage'),\n    deleteImage: action('deleteImage'),\n    updateImage: action('updateImage'),\n    organizationDelete: action('organizationDelete')\n  }\n})",...Default.parameters?.docs?.source}}},NoPermission.parameters={...NoPermission.parameters,docs:{...NoPermission.parameters?.docs,source:{originalSource:"args => ({\n  props: {\n    ...args,\n    createImage: action('createImage'),\n    deleteImage: action('deleteImage'),\n    updateImage: action('updateImage'),\n    organizationDelete: action('organizationDelete')\n  }\n})",...NoPermission.parameters?.docs?.source}}}}}]);